{
  "openapi": "3.0.0",
  "info": {
    "title": "Boltz API",
    "version": "3.12.1"
  },
  "paths": {
    "/version": {
      "get": {
        "description": "Version of the backend",
        "tags": [
          "Info"
        ],
        "responses": {
          "200": {
            "description": "Version information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "version"
                  ],
                  "properties": {
                    "version": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/infos": {
      "get": {
        "description": "Information about the configuration of the backend",
        "tags": [
          "Info"
        ],
        "responses": {
          "200": {
            "description": "Configuration information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/warnings": {
      "get": {
        "description": "Warnings about the configuration of the backend",
        "tags": [
          "Info"
        ],
        "responses": {
          "200": {
            "description": "Service warnings",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine": {
      "get": {
        "description": "Possible pairs for Submarine Swaps",
        "tags": [
          "Submarine Swap"
        ],
        "responses": {
          "200": {
            "description": "Dictionary of the from -> to currencies that can be used in a Submarine Swap",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "additionalProperties": {
                      "$ref": "#/components/schemas/SubmarinePair"
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"BTC\":{\"BTC\":{\"hash\":\"90ab5c8e6ece5db52173e9423a0dd3071f5894dc8d35ed592a439ccabcdebbd5\",\"rate\":1,\"limits\":{\"maximal\":25000000,\"minimal\":50000,\"maximalZeroConf\":0},\"fees\":{\"percentage\":0.1,\"minerFees\":4379}}},\"L-BTC\":{\"BTC\":{\"hash\":\"b53c0ac3da051a78f67f6dd25f2ab0858492dc6881015b236d554227c85fda7d\",\"rate\":1,\"limits\":{\"maximal\":25000000,\"minimal\":1000,\"maximalZeroConf\":100000},\"fees\":{\"percentage\":0.1,\"minerFees\":148}}}}"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "description": "Create a new Submarine Swap from onchain to lightning",
        "tags": [
          "Submarine Swap"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubmarineRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The created Submarine Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubmarineResponse"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the Submarine Swap creation to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine/{id}/invoice": {
      "post": {
        "tags": [
          "Submarine Swap"
        ],
        "description": "Set the invoice for a Submarine Swap",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Submarine Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "invoice"
                ],
                "properties": {
                  "invoice": {
                    "type": "string",
                    "description": "BOLT11 invoice that should be paid. The preimage hash has to match the one specified when creating the swap"
                  },
                  "pairHash": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Information about the onchain part of the Submarine Swap",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "bip21",
                    "expectedAmount",
                    "acceptZeroConf"
                  ],
                  "properties": {
                    "bip21": {
                      "type": "string",
                      "description": "BIP21 for the onchain payment request"
                    },
                    "expectedAmount": {
                      "type": "number",
                      "description": "Amount that is expected to be sent to the onchain HTLC address in satoshis"
                    },
                    "acceptZeroConf": {
                      "type": "boolean",
                      "description": "Whether 0-conf will be accepted assuming the transaction does not signal RBF and has a reasonably high fee"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine/{id}/invoice/amount": {
      "get": {
        "tags": [
          "Submarine Swap"
        ],
        "description": "Get the expected amount of the invoice that should be set after the Swap was created with a preimage hash and an onchain transaction was sent",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Submarine Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "Expected amount of the invoice",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "invoiceAmount"
                  ],
                  "properties": {
                    "invoiceAmount": {
                      "type": "number",
                      "description": "Expected amount of the invoice"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine/{id}/transaction": {
      "get": {
        "tags": [
          "Submarine Swap"
        ],
        "description": "Get the lockup transaction of a Submarine Swap",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Submarine Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "The lockup transaction of the Submarine Swap and accompanying information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubmarineTransaction"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine/{id}/preimage": {
      "get": {
        "tags": [
          "Submarine Swap"
        ],
        "description": "Get the preimage of a successful Submarine Swap",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Submarine Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "The preimage of a Submarine Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubmarinePreimage"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine/{id}/refund": {
      "get": {
        "tags": [
          "Submarine Swap"
        ],
        "description": "Get an EIP-712 signature for a cooperative EVM refund",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID or preimage hash of the Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "EIP-712 signature",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "signature"
                  ],
                  "properties": {
                    "signature": {
                      "type": "string",
                      "description": "EIP-712 signature with which a cooperative refund can be executed onchain"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "description": "Requests a partial signature for a cooperative Submarine Swap refund transaction",
        "tags": [
          "Submarine Swap"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefundRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "A partial signature",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PartialSignature"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine/{id}/refund/ark": {
      "post": {
        "description": "Signs cooperative refund transactions for Ark Submarine Swaps",
        "tags": [
          "Submarine Swap"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Submarine Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ArkRefundRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The signed refund transaction",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ArkRefundResponse"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail (e.g., invalid PSBT, swap not eligible)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When no Submarine Swap with the ID could be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine/{id}/claim": {
      "get": {
        "tags": [
          "Submarine Swap"
        ],
        "description": "Get the needed information to post a partial signature for a cooperative Submarine Swap claim transaction",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "The latest status of the Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubmarineClaimDetails"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When no Swap with the ID could be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Submarine Swap"
        ],
        "description": "Send Boltz the clients partial signature for a cooperative Submarine Swap claim transaction",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PartialSignature"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The latest status of the Swap",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When no Swap with the ID could be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/reverse": {
      "get": {
        "description": "Possible pairs for Reverse Swaps",
        "tags": [
          "Reverse Swap"
        ],
        "responses": {
          "200": {
            "description": "Dictionary of the from -> to currencies that can be used in a Reverse Swap",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "additionalProperties": {
                      "$ref": "#/components/schemas/ReversePair"
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"BTC\":{\"BTC\":{\"hash\":\"784db95522d197f4e90d661e8451d0d78f63906f74cc566cd395d32f359fdc90\",\"rate\":1,\"limits\":{\"maximal\":25000000,\"minimal\":50000},\"fees\":{\"percentage\":0.5,\"minerFees\":{\"claim\":1998,\"lockup\":2772}}},\"L-BTC\":{\"hash\":\"976e6dad9097f657213244b046e5f29524b743568a2c3d569b421df1e07e1b44\",\"rate\":1,\"limits\":{\"maximal\":25000000,\"minimal\":1000},\"fees\":{\"percentage\":0.25,\"minerFees\":{\"claim\":143,\"lockup\":276}}}}}"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "description": "Create a new Reverse Swap from lightning to onchain",
        "tags": [
          "Reverse Swap"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReverseRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The created Reverse Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReverseResponse"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the Reverse Swap creation to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/reverse/expiry": {
      "get": {
        "description": "Allowed invoice expiry range in seconds per Reverse Swap pair",
        "tags": [
          "Reverse Swap"
        ],
        "responses": {
          "200": {
            "description": "Nested map of from -> to -> expiry range",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "additionalProperties": {
                      "$ref": "#/components/schemas/InvoiceExpiryRange"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/swap/reverse/{id}/transaction": {
      "get": {
        "tags": [
          "Reverse Swap"
        ],
        "description": "Get the lockup transaction of a Reverse Swap",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Reverse Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "The lockup transaction of the Reverse Swap and accompanying information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReverseTransaction"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/reverse/{id}/claim": {
      "post": {
        "description": "Requests a partial signature for a cooperative Reverse Swap claim transaction. To settle the invoice, but not claim the onchain HTLC (eg to create a batched claim in the future), only the preimage is required. If no transaction is provided, an empty object is returned as response.",
        "tags": [
          "Reverse Swap"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReverseClaimRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "A partial signature",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PartialSignature"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/reverse/{invoice}/bip21": {
      "get": {
        "tags": [
          "Reverse Swap"
        ],
        "description": "Get the BIP-21 of a Reverse Swap for a direct payment",
        "parameters": [
          {
            "in": "path",
            "name": "invoice",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Invoice of the Reverse Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "BIP-21 and signature to prove the authenticity of the BIP-21",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReverseBip21"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When no BIP-21 was set for the Reverse Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/chain": {
      "get": {
        "description": "Possible pairs for Chain Swaps",
        "tags": [
          "Chain Swap"
        ],
        "responses": {
          "200": {
            "description": "Dictionary of the from -> to currencies that can be used in a Chain Swap",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "additionalProperties": {
                      "$ref": "#/components/schemas/ChainPair"
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"BTC\":{\"RBTC\":{\"hash\":\"819c288da87e4212ed9420b60e2699d49ff3f989215f1beb3dc986a3dfbe8160\",\"rate\":1,\"limits\":{\"maximal\":4294967,\"minimal\":50000,\"maximalZeroConf\":0},\"fees\":{\"percentage\":0.5,\"minerFees\":{\"server\":7035,\"user\":{\"claim\":3108,\"lockup\":5077}}}},\"L-BTC\":{\"hash\":\"43087e267db95668b9b7c48efcf44d922484870f1bdb8b926e5d6b76bf4d0709\",\"rate\":1,\"limits\":{\"maximal\":4294967,\"minimal\":10000,\"maximalZeroConf\":0},\"fees\":{\"percentage\":0.25,\"minerFees\":{\"server\":4455,\"user\":{\"claim\":3108,\"lockup\":276}}}}},\"RBTC\":{\"BTC\":{\"hash\":\"a5de5e1fb35ea29d67131283bf5c682e5b16a19ecaadc0e80345d95f4831e201\",\"rate\":1,\"limits\":{\"maximal\":4294967,\"minimal\":50000,\"maximalZeroConf\":0},\"fees\":{\"percentage\":0.5,\"minerFees\":{\"server\":8185,\"user\":{\"claim\":2723,\"lockup\":4312}}}}},\"L-BTC\":{\"BTC\":{\"hash\":\"3ec520412cee74863f2c75a9cd7b8d2077f68267632344ec3c4646e100883091\",\"rate\":1,\"limits\":{\"maximal\":4294967,\"minimal\":10000,\"maximalZeroConf\":0},\"fees\":{\"percentage\":0.25,\"minerFees\":{\"server\":3384,\"user\":{\"claim\":143,\"lockup\":4312}}}}}}"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "description": "Create a new Chain Swap from chain to chain. Omit \"userLockAmount\" and \"serverLockAmount\" to create a Chain Swap with an arbitrary amount",
        "tags": [
          "Chain Swap"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChainRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The created Chain Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChainResponse"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the Chain Swap creation to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/chain/{id}/transactions": {
      "get": {
        "description": "Gets the transactions of a Chain Swap",
        "tags": [
          "Chain Swap"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "Transactions of the Chain Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChainSwapTransactions"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When no Chain Swap with the ID could be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/chain/{id}/claim": {
      "get": {
        "description": "Gets the server claim transaction signing details",
        "tags": [
          "Chain Swap"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "Server claim signing details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChainSwapSigningDetails"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When no Chain Swap with the ID could be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "description": "Send Boltz a partial signature for its claim transaction and get a partial signature for the clients claim in return. If client claimed already, only providing \"signature\" is required and an empty object is returned.",
        "tags": [
          "Chain Swap"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChainSwapSigningRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Partial signature for the claim transaction of the user",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/PartialSignature"
                    },
                    {
                      "type": "object"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When no Chain Swap with the ID could be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/chain/{id}/refund": {
      "get": {
        "tags": [
          "Chain Swap"
        ],
        "description": "Get an EIP-712 signature for a cooperative EVM refund",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "EIP-712 signature",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "signature"
                  ],
                  "properties": {
                    "signature": {
                      "type": "string",
                      "description": "EIP-712 signature with which a cooperative refund can be executed onchain"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "description": "Requests a partial signature for a cooperative Chain Swap refund transaction",
        "tags": [
          "Chain Swap"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefundRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "A partial signature",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PartialSignature"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/chain/{id}/refund/ark": {
      "post": {
        "description": "Signs cooperative refund transactions for Ark Chain Swaps",
        "tags": [
          "Chain Swap"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Chain Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ArkRefundRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The signed refund transaction",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ArkRefundResponse"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail (e.g., invalid PSBT, swap not eligible)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When no Chain Swap with the ID could be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/chain/{id}/quote": {
      "get": {
        "tags": [
          "Chain Swap"
        ],
        "description": "Gets a new quote for an overpaid or underpaid Chain Swap",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "The new quote",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Quote"
                }
              }
            }
          },
          "400": {
            "description": "When the Chain Swap is not eligible for a new quote",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Chain Swap"
        ],
        "description": "Accepts a new quote for a Chain Swap",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Quote"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "The new quote was accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuoteResponse"
                }
              }
            }
          },
          "400": {
            "description": "When the Chain Swap is not eligible for a new quote",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/status": {
      "get": {
        "tags": [
          "Swap"
        ],
        "description": "Get the status of multiple Swaps",
        "parameters": [
          {
            "in": "query",
            "name": "ids",
            "required": true,
            "description": "Array of Swap IDs (max 64)",
            "style": "form",
            "explode": true,
            "schema": {
              "type": "array",
              "maxItems": 64,
              "items": {
                "type": "string"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Map of Swap IDs to their latest status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "$ref": "#/components/schemas/SwapStatus"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (ids must be an array, contains non-strings, or too many ids)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/{id}": {
      "get": {
        "tags": [
          "Swap"
        ],
        "description": "Get the status of a Swap",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "The latest status of the Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SwapStatus"
                }
              }
            }
          },
          "404": {
            "description": "When no Swap with the ID could be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/rescue": {
      "post": {
        "tags": [
          "Swap"
        ],
        "description": "Rescue swaps by searching with an XPUB, a single public key, or multiple public keys. Returns swaps that can be refunded when all information was lost. Deprecated - use /swap/restore instead",
        "deprecated": true,
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RescueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "List of swaps that can be rescued",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RescuableSwap"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/swap/restore": {
      "post": {
        "tags": [
          "Swap"
        ],
        "description": "Restore swaps and funding addresses by searching with an XPUB, a single public key, or multiple public keys. Returns details needed to resume, claim, or refund when information was lost",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RescueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "List of restorable swaps and funding addresses",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Restorable"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/swap/restore/index": {
      "post": {
        "tags": [
          "Swap"
        ],
        "description": "Get the highest derivation index for swaps associated with an XPUB, a single public key, or multiple public keys. Useful for wallet restoration to determine the next key index to use. Returns -1 if no swaps are found",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RescueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Highest key derivation index found among all swaps associated with the provided keys",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RestoreIndexResponse"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/asset/{currency}/rescue/setup": {
      "post": {
        "tags": [
          "Asset Rescue"
        ],
        "description": "Setup a cooperative asset rescue transaction for recovering locked funds. Only works for non L-BTC assets locked on Liquid.",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency symbol (currently only L-BTC is supported)"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssetRescueSetupRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Setup details for the asset rescue transaction",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AssetRescueSetupResponse"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the setup to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/asset/{currency}/rescue/broadcast": {
      "post": {
        "tags": [
          "Asset Rescue"
        ],
        "description": "Broadcast a cooperative asset rescue transaction with the client's partial signature",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency symbol (currently only L-BTC is supported)"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssetRescueBroadcastRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Transaction ID of the broadcasted rescue transaction",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AssetRescueBroadcastResponse"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the broadcast to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/{swap_type}/stats/{from}/{to}": {
      "get": {
        "tags": [
          "Historical Data"
        ],
        "description": "Get historical fee statistics for pairs.",
        "parameters": [
          {
            "name": "swap_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "submarine",
                "reverse",
                "chain"
              ]
            },
            "description": "Type of the swap"
          },
          {
            "name": "from",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Source currency symbol"
          },
          {
            "name": "to",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Destination currency symbol"
          },
          {
            "name": "Referral",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "pro"
              ]
            },
            "description": "Referral header must be set to 'pro' to access this endpoint"
          }
        ],
        "responses": {
          "200": {
            "description": "Historical fee statistics for the swap pair",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PairStats"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid referral or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Invalid pair or no data available",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "501": {
            "description": "Historical data not available",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/node/{node}": {
      "get": {
        "tags": [
          "Lightning"
        ],
        "description": "Gets information about a lightning node",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          },
          {
            "in": "path",
            "name": "node",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Public key of the node to get information for"
          }
        ],
        "responses": {
          "200": {
            "description": "Information about the lightning node",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LightningNode"
                }
              }
            }
          },
          "400": {
            "description": "Unprocessable request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the node cannot be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/channel/{id}": {
      "get": {
        "tags": [
          "Lightning"
        ],
        "description": "Gets information about a specific lightning channel",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          },
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the channel to get information for (LND and CLN style accepted)"
          }
        ],
        "responses": {
          "200": {
            "description": "Information about the lightning channel",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LightningChannelInfo"
                }
              }
            }
          },
          "400": {
            "description": "Unprocessable request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the channel cannot be found or the currency is not supported",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/channels/{node}": {
      "get": {
        "tags": [
          "Lightning"
        ],
        "description": "Gets the channels of a lightning node",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          },
          {
            "in": "path",
            "name": "node",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Public key of the node to get channels for"
          }
        ],
        "responses": {
          "200": {
            "description": "Channels of the lightning node",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LightningChannel"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Unprocessable acceptable request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the node cannot be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/search": {
      "get": {
        "tags": [
          "Lightning"
        ],
        "description": "Search for lightning nodes by alias",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          },
          {
            "in": "query",
            "name": "alias",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Alias of the node to search for"
          }
        ],
        "responses": {
          "200": {
            "description": "List of matching lightning nodes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LightningNode"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the node cannot be found or the currency is not supported",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/bolt12": {
      "post": {
        "tags": [
          "Lightning"
        ],
        "description": "Creates a BOLT12 offer",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "offer"
                ],
                "properties": {
                  "offer": {
                    "type": "string",
                    "description": "The BOLT12 offer"
                  },
                  "url": {
                    "type": "string",
                    "description": "Webhook to call to fetch invoices for the offer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "BOLT12 offer created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the currency has no BOLT12 support",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Lightning"
        ],
        "description": "Updates the webhook URL for a BOLT12 offer",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "offer",
                  "signature"
                ],
                "properties": {
                  "offer": {
                    "type": "string",
                    "description": "The BOLT12 offer"
                  },
                  "url": {
                    "type": "string",
                    "description": "Webhook to call to fetch invoices for the offer. Omit to remove"
                  },
                  "signature": {
                    "type": "string",
                    "description": "Schnorr signature of the SHA256 hash of the new URL, or \"UPDATE\" if no URL is provided"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "BOLT12 offer updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the currency has no BOLT12 support or the offer was not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "When the signature is invalid hex",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Lightning"
        ],
        "description": "Deletes a BOLT12 offer",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "offer",
                  "signature"
                ],
                "properties": {
                  "offer": {
                    "type": "string",
                    "description": "The BOLT12 offer"
                  },
                  "signature": {
                    "type": "string",
                    "description": "Schnorr signature of the SHA256 hash of \"DELETE\""
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "BOLT12 offer deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the currency has no BOLT12 support or the offer was not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "When the signature is invalid hex",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/bolt12/{receiving}": {
      "get": {
        "tags": [
          "Lightning"
        ],
        "description": "Gets parameters for a BOLT12 offer",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          },
          {
            "in": "path",
            "name": "receiving",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Symbol of the chain to which invoices of the offer should be swapped to"
          }
        ],
        "responses": {
          "200": {
            "description": "Parameters for the BOLT12 offer",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "minCltv"
                  ],
                  "properties": {
                    "minCltv": {
                      "type": "integer",
                      "description": "Minimum CLTV value"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "BOLT12 Reverse Swaps not available for the sending symbol",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/bolt12/fetch": {
      "post": {
        "tags": [
          "Lightning"
        ],
        "description": "Fetches an invoice for a BOLT12 offer",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "offer",
                  "amount"
                ],
                "properties": {
                  "offer": {
                    "type": "string",
                    "description": "A BOLT12 offer"
                  },
                  "amount": {
                    "type": "number",
                    "description": "Amount of the invoice that should be fetched in satoshis"
                  },
                  "note": {
                    "type": "string",
                    "description": "Optional note to include in the invoice request"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "BOLT12 invoice fetched from the offer",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "invoice"
                  ],
                  "properties": {
                    "invoice": {
                      "type": "string",
                      "description": "A BOLT12 invoice"
                    },
                    "magicRoutingHint": {
                      "$ref": "#/components/schemas/ReverseBip21"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "When the currency has no BOLT12 support",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "When no invoice could be fetched",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/chain/fees": {
      "get": {
        "description": "Fee estimations for all supported chains",
        "tags": [
          "Chain"
        ],
        "responses": {
          "200": {
            "description": "Object of currency of chain -> fee estimation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "number",
                    "description": "Fee estimation in sat/vbyte or GWEI"
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"BTC\":19,\"L-BTC\":0.11}"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/chain/heights": {
      "get": {
        "description": "Block heights for all supported chains",
        "tags": [
          "Chain"
        ],
        "responses": {
          "200": {
            "description": "Object of currency of chain -> block height",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "number",
                    "description": "Block height of the chain"
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"BTC\":830311,\"L-BTC\":2725579}"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/chain/contracts": {
      "get": {
        "tags": [
          "Chain"
        ],
        "description": "Get the network information and contract addresses for all supported EVM chains",
        "responses": {
          "200": {
            "description": "Network details and contract addresses on the chain",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "$ref": "#/components/schemas/Contracts"
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"rsk\":{\"network\":{\"chainId\":31337},\"swapContracts\":{\"EtherSwap\":\"0x5FbDB2315678afecb367f032d93F642f64180aa3\",\"ERC20Swap\":\"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512\"},\"supportedContracts\":{\"3\":{\"EtherSwap\":\"0x5FbDB2315678afecb367f032d93F642f64180aa3\",\"ERC20Swap\":\"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512\",\"features\":[]}},\"tokens\":{\"USDT\":\"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0\"}}}"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/chain/{currency}/fee": {
      "get": {
        "description": "Fee estimations for a chain",
        "tags": [
          "Chain"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the chain to get a fee estimation for"
          }
        ],
        "responses": {
          "200": {
            "description": "Object containing the fee estimation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "fee"
                  ],
                  "properties": {
                    "fee": {
                      "type": "number",
                      "description": "Fee estimation in sat/vbyte or GWEI"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/chain/{currency}/height": {
      "get": {
        "description": "Block height for a chain",
        "tags": [
          "Chain"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the chain to get the block height for"
          }
        ],
        "responses": {
          "200": {
            "description": "Object containing the block height",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "height"
                  ],
                  "properties": {
                    "height": {
                      "type": "number",
                      "description": "Block height of the chain"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/chain/{currency}/transaction/{id}": {
      "get": {
        "tags": [
          "Chain"
        ],
        "description": "Fetch a raw transaction by its id",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the chain to query for"
          },
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Id of the transaction to query"
          }
        ],
        "responses": {
          "200": {
            "description": "Raw transaction",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "hex"
                  ],
                  "properties": {
                    "hex": {
                      "type": "string",
                      "description": "The transaction encoded as HEX"
                    },
                    "confirmations": {
                      "type": "number",
                      "description": "Number of confirmations the transaction has; not set if not confirmed yet"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the query for the transaction to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/chain/{currency}/transaction": {
      "post": {
        "tags": [
          "Chain"
        ],
        "description": "Broadcast a transaction",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the chain to broadcast on"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "hex"
                ],
                "properties": {
                  "hex": {
                    "type": "string",
                    "description": "The transaction to broadcast as raw HEX"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "ID of the broadcast transaction",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "id"
                  ],
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "ID of the broadcast transaction"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the broadcast of the transaction to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/chain/{currency}/contracts": {
      "get": {
        "tags": [
          "Chain"
        ],
        "description": "Get the network information and contract addresses for a supported EVM chains",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the chain to query for"
          }
        ],
        "responses": {
          "200": {
            "description": "Raw transaction",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Contracts"
                },
                "examples": {
                  "json": {
                    "value": "{\"network\":{\"chainId\":31337},\"swapContracts\":{\"EtherSwap\":\"0x5FbDB2315678afecb367f032d93F642f64180aa3\",\"ERC20Swap\":\"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512\"},\"supportedContracts\":{\"3\":{\"EtherSwap\":\"0x5FbDB2315678afecb367f032d93F642f64180aa3\",\"ERC20Swap\":\"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512\",\"features\":[]}},\"tokens\":{\"USDT\":\"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0\"}}"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the query for the transaction to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Error when the currency is not on an EVM chain",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/quote/{currency}/in": {
      "get": {
        "tags": [
          "Quotes"
        ],
        "description": "Gets quotes for a token swap with specified input amount",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Network for the token swap"
          },
          {
            "in": "query",
            "name": "tokenIn",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Token to swap from"
          },
          {
            "in": "query",
            "name": "tokenOut",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Token to swap to"
          },
          {
            "in": "query",
            "name": "amountIn",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Amount to swap"
          }
        ],
        "responses": {
          "200": {
            "description": "Quotes for the token swap sorted by highest output (descending)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TokenQuote"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Unprocessable request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the network is not supported",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/quote/{currency}/out": {
      "get": {
        "tags": [
          "Quotes"
        ],
        "description": "Gets quotes for a token swap with specified output amount",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Network for the token swap"
          },
          {
            "in": "query",
            "name": "tokenIn",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Token to swap from"
          },
          {
            "in": "query",
            "name": "tokenOut",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Token to swap to"
          },
          {
            "in": "query",
            "name": "amountOut",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Amount to receive from swap"
          }
        ],
        "responses": {
          "200": {
            "description": "Quotes for the token swap sorted by lowest input (ascending)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TokenQuote"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Unprocessable request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the network is not supported",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/quote/{currency}/encode": {
      "post": {
        "tags": [
          "Quotes"
        ],
        "description": "Encodes calldata for a token swap",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Network for the token swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "data",
                  "recipient",
                  "amountIn",
                  "amountOutMin"
                ],
                "properties": {
                  "recipient": {
                    "type": "string",
                    "description": "Address to send the tokens to"
                  },
                  "amountIn": {
                    "type": "string",
                    "description": "Amount of tokens to swap"
                  },
                  "amountOutMin": {
                    "type": "string",
                    "description": "Minimum amount of tokens to receive"
                  },
                  "data": {
                    "type": "object",
                    "additionalProperties": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Encoded calldata for the token swap",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "calls"
                  ],
                  "properties": {
                    "calls": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Call"
                      },
                      "description": "Array of contract calls to execute"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Unprocessable request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the network is not supported",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/nodes": {
      "get": {
        "description": "Information about the Lightning nodes the backend is connected to",
        "tags": [
          "Nodes"
        ],
        "responses": {
          "200": {
            "description": "Lightning node information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "additionalProperties": {
                      "$ref": "#/components/schemas/NodeInfo"
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"BTC\":{\"LND\":{\"publicKey\":\"026165850492521f4ac8abd9bd8088123446d126f648ca35e60f88177dc149ceb2\",\"uris\":[\"026165850492521f4ac8abd9bd8088123446d126f648ca35e60f88177dc149ceb2@45.86.229.190:9735\",\"026165850492521f4ac8abd9bd8088123446d126f648ca35e60f88177dc149ceb2@d7kak4gpnbamm3b4ufq54aatgm3alhx3jwmu6kyy2bgjaauinkipz3id.onion:9735\"]},\"CLN\":{\"publicKey\":\"02d96eadea3d780104449aca5c93461ce67c1564e2e1d73225fa67dd3b997a6018\",\"uris\":[\"02d96eadea3d780104449aca5c93461ce67c1564e2e1d73225fa67dd3b997a6018@45.86.229.190:9736\",\"02d96eadea3d780104449aca5c93461ce67c1564e2e1d73225fa67dd3b997a6018@2a10:1fc0:3::270:a9dc:9736\",\"02d96eadea3d780104449aca5c93461ce67c1564e2e1d73225fa67dd3b997a6018@oo5tkbbpgnqjopdjxepyfavx3yemtylgzul67s7zzzxfeeqpde6yr7yd.onion:9736\"]}}}"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/nodes/stats": {
      "get": {
        "description": "Statistics about the Lightning nodes the backend is connected to",
        "tags": [
          "Nodes"
        ],
        "responses": {
          "200": {
            "description": "Statistics about Lightning nodes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "properties": {
                      "total": {
                        "$ref": "#/components/schemas/NodeStats"
                      }
                    },
                    "additionalProperties": {
                      "$ref": "#/components/schemas/NodeStats"
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"BTC\":{\"LND\":{\"capacity\":5806395450,\"channels\":1052,\"peers\":2199,\"oldestChannel\":1553900632},\"CLN\":{\"capacity\":1062157049,\"channels\":79,\"peers\":124,\"oldestChannel\":1692910360},\"total\":{\"capacity\":6868552499,\"channels\":1131,\"peers\":2323,\"oldestChannel\":1553900632}}}"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/commitment/{currency}/details": {
      "get": {
        "tags": [
          "Commitment"
        ],
        "description": "Get lockup details for commitment swaps on an EVM chain",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the chain to get lockup details for"
          }
        ],
        "responses": {
          "200": {
            "description": "Lockup details for commitment swaps",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommitmentLockupDetails"
                },
                "examples": {
                  "json": {
                    "value": "{\"contract\":\"0x5FbDB2315678afecb367f032d93F642f64180aa3\",\"claimAddress\":\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\",\"timelock\":20160}"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/commitment/{currency}": {
      "post": {
        "tags": [
          "Commitment"
        ],
        "description": "Submit a commitment for a swap",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the commitment"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "swapId",
                  "signature",
                  "transactionHash"
                ],
                "properties": {
                  "swapId": {
                    "type": "string",
                    "description": "ID of the swap"
                  },
                  "signature": {
                    "type": "string",
                    "description": "Signature authorizing the claim"
                  },
                  "transactionHash": {
                    "type": "string",
                    "description": "Transaction hash of the lockup transaction"
                  },
                  "logIndex": {
                    "type": "number",
                    "description": "Log index of the lockup event if there are multiple in the transaction"
                  },
                  "maxOverpaymentPercentage": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 10,
                    "description": "Maximum accepted overpayment percentage for this commitment"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Commitment created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/referral": {
      "get": {
        "description": "Referral ID for the used API keys",
        "tags": [
          "Referral"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "TS",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Current UNIX timestamp when the request is sent"
          },
          {
            "in": "header",
            "name": "API-KEY",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Your API key"
          },
          {
            "in": "header",
            "name": "API-HMAC",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "HMAC-SHA256 with your API-Secret as key of the TS + HTTP method (all uppercase) + the HTTP path"
          }
        ],
        "responses": {
          "200": {
            "description": "The referral ID for your API-KEY to be used when creating Swaps",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "id"
                  ],
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "The referral ID for your API-KEY"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized in case of an unknown API-KEY or bad HMAC",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/referral/fees": {
      "get": {
        "description": "Referral fees collected for an ID",
        "tags": [
          "Referral"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "TS",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Current UNIX timestamp when the request is sent"
          },
          {
            "in": "header",
            "name": "API-KEY",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Your API key"
          },
          {
            "in": "header",
            "name": "API-HMAC",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "HMAC-SHA256 with your API-Secret as key of the TS + HTTP method (all uppercase) + the HTTP path"
          }
        ],
        "responses": {
          "200": {
            "description": "Referral fees collected per currency grouped by year and month",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Year",
                  "additionalProperties": {
                    "type": "object",
                    "description": "Month",
                    "additionalProperties": {
                      "type": "object",
                      "description": "Fees collected in that month",
                      "additionalProperties": {
                        "type": "string",
                        "description": "Fees collected in that currency in satoshis"
                      }
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"2024\":{\"1\":{\"BTC\":307}}}"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized in case of an unknown API-KEY or bad HMAC",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/referral/stats": {
      "get": {
        "description": "Statistics for Swaps created with a referral ID",
        "tags": [
          "Referral"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "TS",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Current UNIX timestamp when the request is sent"
          },
          {
            "in": "header",
            "name": "API-KEY",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Your API key"
          },
          {
            "in": "header",
            "name": "API-HMAC",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "HMAC-SHA256 with your API-Secret as key of the TS + HTTP method (all uppercase) + the HTTP path"
          }
        ],
        "responses": {
          "200": {
            "description": "Swap statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Year",
                  "additionalProperties": {
                    "type": "object",
                    "description": "Month",
                    "additionalProperties": {
                      "type": "object",
                      "description": "Swap statistics for that month",
                      "properties": {
                        "volume": {
                          "type": "object",
                          "description": "Swap volume",
                          "properties": {
                            "total": {
                              "type": "string",
                              "description": "Volume across all pairs in BTC"
                            }
                          },
                          "additionalProperties": {
                            "type": "string",
                            "description": "Volume in that pair in BTC"
                          }
                        },
                        "trades": {
                          "type": "object",
                          "description": "Swap counts",
                          "properties": {
                            "total": {
                              "type": "integer",
                              "description": "Swap count across all pairs"
                            }
                          },
                          "additionalProperties": {
                            "type": "integer",
                            "description": "Swap count for that pair"
                          }
                        },
                        "failureRates": {
                          "type": "object",
                          "description": "Swap failure rates for each type",
                          "properties": {
                            "submarine": {
                              "type": "number",
                              "description": "Submarine Swap failure rate"
                            },
                            "reverse": {
                              "type": "number",
                              "description": "Reverse Swap failure rate"
                            },
                            "chain": {
                              "type": "number",
                              "description": "Chain Swap failure rate"
                            }
                          }
                        },
                        "groups": {
                          "type": "object",
                          "description": "Stats grouped by extra fee identifier",
                          "additionalProperties": {
                            "type": "object",
                            "description": "Stats for a specific group",
                            "properties": {
                              "volume": {
                                "type": "object",
                                "description": "Swap volume for the group",
                                "properties": {
                                  "total": {
                                    "type": "string",
                                    "description": "Volume across all pairs in BTC for the group"
                                  }
                                },
                                "additionalProperties": {
                                  "type": "string",
                                  "description": "Volume in that pair in BTC for the group"
                                }
                              },
                              "trades": {
                                "type": "object",
                                "description": "Swap counts for the group",
                                "properties": {
                                  "total": {
                                    "type": "integer",
                                    "description": "Swap count across all pairs for the group"
                                  }
                                },
                                "additionalProperties": {
                                  "type": "integer",
                                  "description": "Swap count for that pair for the group"
                                }
                              },
                              "failureRates": {
                                "type": "object",
                                "description": "Failure rates for the group by swap type",
                                "properties": {
                                  "submarine": {
                                    "type": "number",
                                    "description": "Submarine Swap failure rate for the group"
                                  },
                                  "reverse": {
                                    "type": "number",
                                    "description": "Reverse Swap failure rate for the group"
                                  },
                                  "chain": {
                                    "type": "number",
                                    "description": "Chain Swap failure rate for the group"
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"2024\":{\"1\":{\"volume\":{\"total\":\"0.00321844\",\"L-BTC/BTC\":\"0.00321844\"},\"trades\":{\"total\":3,\"L-BTC/BTC\":3},\"failureRates\":{\"submarine\": 0.12, \"reverse\":0, \"chain\":0}}}}"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized in case of an unknown API-KEY or bad HMAC",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/referral/stats/extra": {
      "get": {
        "description": "Extra fees collected for swaps created with a referral ID",
        "tags": [
          "Referral"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "TS",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Current UNIX timestamp when the request is sent"
          },
          {
            "in": "header",
            "name": "API-KEY",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Your API key"
          },
          {
            "in": "header",
            "name": "API-HMAC",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "HMAC-SHA256 with your API-Secret as key of the TS + HTTP method (all uppercase) + the HTTP path"
          }
        ],
        "responses": {
          "200": {
            "description": "Extra fees collected by extra id grouped by year and month",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Year",
                  "additionalProperties": {
                    "type": "object",
                    "description": "Month",
                    "additionalProperties": {
                      "type": "object",
                      "description": "Extra fees collected in that month",
                      "additionalProperties": {
                        "type": "integer",
                        "format": "uint64",
                        "description": "Total extra fees collected grouped by identifier"
                      }
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"2024\":{\"1\":{\"swap123\":1000,\"swap456\":2500},\"2\":{\"swap789\":1500}}}"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized in case of an unknown API-KEY or bad HMAC",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ArkTimeouts": {
        "type": "object",
        "required": [
          "refund",
          "unilateralClaim",
          "unilateralRefund",
          "unilateralRefundWithoutReceiver"
        ],
        "properties": {
          "refund": {
            "type": "number",
            "description": "Timeout block height for the refund path"
          },
          "unilateralClaim": {
            "type": "number",
            "description": "Timeout block height for the unilateral claim path"
          },
          "unilateralRefund": {
            "type": "number",
            "description": "Timeout block height for the unilateral refund path"
          },
          "unilateralRefundWithoutReceiver": {
            "type": "number",
            "description": "Timeout block height for the unilateral refund without receiver path"
          }
        }
      },
      "SwapTreeLeaf": {
        "type": "object",
        "required": [
          "version",
          "output"
        ],
        "properties": {
          "version": {
            "type": "number",
            "description": "Tapscript version"
          },
          "output": {
            "type": "string",
            "description": "Script encoded as HEX"
          }
        }
      },
      "SwapTree": {
        "type": "object",
        "required": [
          "claimLeaf",
          "refundLeaf"
        ],
        "properties": {
          "claimLeaf": {
            "$ref": "#/components/schemas/SwapTreeLeaf"
          },
          "refundLeaf": {
            "$ref": "#/components/schemas/SwapTreeLeaf"
          },
          "covenantClaimLeaf": {
            "$ref": "#/components/schemas/SwapTreeLeaf"
          },
          "refundWithoutBoltzLeaf": {
            "$ref": "#/components/schemas/SwapTreeLeaf"
          },
          "unilateralClaimLeaf": {
            "$ref": "#/components/schemas/SwapTreeLeaf"
          },
          "unilateralRefundLeaf": {
            "$ref": "#/components/schemas/SwapTreeLeaf"
          },
          "unilateralRefundWithoutBoltzLeaf": {
            "$ref": "#/components/schemas/SwapTreeLeaf"
          }
        }
      },
      "ExtraFees": {
        "type": "object",
        "required": [
          "id"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "Identifier for the extra fee"
          },
          "percentage": {
            "type": "number",
            "description": "Additional fee percentage to be charged. Defaults to 0 when omitted",
            "default": 0,
            "minimum": 0,
            "exclusiveMinimum": false,
            "maximum": 10
          }
        }
      },
      "SubmarinePair": {
        "type": "object",
        "required": [
          "hash",
          "rate",
          "limits",
          "fees"
        ],
        "properties": {
          "hash": {
            "type": "string",
            "description": "Hash of the pair that can be used when creating the Submarine Swap to ensure the information of the client is up-to-date"
          },
          "rate": {
            "type": "number",
            "description": "Exchange rate of the pair"
          },
          "limits": {
            "type": "object",
            "required": [
              "minimal",
              "maximal",
              "maximalZeroConf"
            ],
            "properties": {
              "minimal": {
                "type": "number",
                "description": "Minimal amount that can be swapped in satoshis for cooperative claims"
              },
              "minimalBatched": {
                "type": "number",
                "description": "Minimal amount that can be swapped in satoshis for batched claims"
              },
              "maximal": {
                "type": "number",
                "description": "Maximal amount that can be swapped in satoshis"
              },
              "maximalZeroConf": {
                "type": "number",
                "description": "Maximal amount that will be accepted 0-conf in satoshis"
              }
            }
          },
          "fees": {
            "type": "object",
            "required": [
              "percentage",
              "minerFees"
            ],
            "properties": {
              "percentage": {
                "type": "number",
                "description": "Relative fee that will be charged in percent"
              },
              "minerFees": {
                "type": "number",
                "description": "Absolute miner fee that will be charged in satoshis"
              }
            }
          }
        }
      },
      "WebhookData": {
        "type": "object",
        "required": [
          "url"
        ],
        "properties": {
          "url": {
            "type": "string",
            "description": "URL that should be called. Only HTTPS is allowed"
          },
          "hashSwapId": {
            "type": "boolean",
            "default": false,
            "description": "If the swap id in the Webhook calls should be hashed with SHA256; useful when Webhooks are processed by a third party"
          },
          "status": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "default": [],
            "description": "Swap status events for which the Webhook should be called. If undefined or empty, the Webhook will be called for all status events"
          }
        }
      },
      "SubmarineRequest": {
        "type": "object",
        "required": [
          "from",
          "to"
        ],
        "properties": {
          "from": {
            "type": "string",
            "description": "The asset that is sent onchain"
          },
          "to": {
            "type": "string",
            "description": "The asset that is received on lightning"
          },
          "invoice": {
            "type": "string",
            "description": "BOLT11 invoice that should be paid"
          },
          "preimageHash": {
            "type": "string",
            "description": "Preimage hash of an invoice that will be set later"
          },
          "refundPublicKey": {
            "type": "string",
            "description": "Public key with which the Submarine Swap can be refunded encoded as HEX"
          },
          "pairHash": {
            "type": "string",
            "description": "Pair hash from the pair information for the client to check if their fee data is up-to-date"
          },
          "referralId": {
            "type": "string",
            "description": "Referral ID to be used for the Submarine swap"
          },
          "paymentTimeout": {
            "type": "number",
            "description": "Payment timeout in seconds"
          },
          "webhook": {
            "$ref": "#/components/schemas/WebhookData"
          },
          "extraFees": {
            "$ref": "#/components/schemas/ExtraFees"
          }
        }
      },
      "SubmarineResponse": {
        "type": "object",
        "required": [
          "id",
          "expectedAmount"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID of the created Submarine Swap"
          },
          "bip21": {
            "type": "string",
            "description": "BIP21 for the onchain payment request"
          },
          "address": {
            "type": "string",
            "description": "Onchain HTLC address"
          },
          "swapTree": {
            "$ref": "#/components/schemas/SwapTree"
          },
          "claimPublicKey": {
            "type": "string",
            "description": "Public key of Boltz that will be used to sweep the onchain HTLC"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Timeout block height of the onchain HTLC"
          },
          "timeoutBlockHeights": {
            "$ref": "#/components/schemas/ArkTimeouts"
          },
          "acceptZeroConf": {
            "type": "boolean",
            "description": "Whether 0-conf will be accepted assuming the transaction does not signal RBF and has a reasonably high fee"
          },
          "expectedAmount": {
            "type": "number",
            "description": "Amount that is expected to be sent to the onchain HTLC address in satoshis"
          },
          "blindingKey": {
            "type": "string",
            "description": "Liquid blinding private key encoded as HEX"
          },
          "referralId": {
            "type": "string",
            "description": "Referral ID used for the swap"
          }
        }
      },
      "SubmarineTransaction": {
        "type": "object",
        "required": [
          "id",
          "timeoutBlockHeight"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID the lockup transaction"
          },
          "hex": {
            "type": "string",
            "description": "Lockup transaction as raw HEX"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Block height at which the time-lock expires"
          },
          "timeoutEta": {
            "type": "number",
            "description": "UNIX timestamp at which the time-lock expires; set if it has not expired already"
          }
        }
      },
      "SubmarinePreimage": {
        "type": "object",
        "required": [
          "preimage"
        ],
        "properties": {
          "preimage": {
            "type": "string",
            "description": "Preimage of the Submarine Swap"
          }
        }
      },
      "RefundRequest": {
        "type": "object",
        "required": [
          "pubNonce",
          "transaction",
          "index"
        ],
        "properties": {
          "pubNonce": {
            "type": "string",
            "description": "Public nonce of the client for the session encoded as HEX"
          },
          "transaction": {
            "type": "string",
            "description": "Transaction which should be signed encoded as HEX"
          },
          "index": {
            "type": "number",
            "description": "Index of the input of the transaction that should be signed"
          }
        }
      },
      "PartialSignature": {
        "type": "object",
        "required": [
          "pubNonce",
          "partialSignature"
        ],
        "properties": {
          "pubNonce": {
            "type": "string",
            "description": "Public nonce encoded as HEX"
          },
          "partialSignature": {
            "type": "string",
            "description": "Partial signature encoded as HEX"
          }
        }
      },
      "ArkRefundRequest": {
        "type": "object",
        "required": [
          "transaction",
          "checkpoint"
        ],
        "properties": {
          "transaction": {
            "type": "string",
            "description": "Partially signed Bitcoin transaction (PSBT) encoded as base64"
          },
          "checkpoint": {
            "type": "string",
            "description": "Ark checkpoint PSBT encoded as base64"
          }
        }
      },
      "ArkRefundResponse": {
        "type": "object",
        "required": [
          "transaction",
          "checkpoint"
        ],
        "properties": {
          "transaction": {
            "type": "string",
            "description": "Signed transaction PSBT encoded as base64"
          },
          "checkpoint": {
            "type": "string",
            "description": "Signed Ark checkpoint PSBT encoded as base64"
          }
        }
      },
      "SubmarineClaimDetails": {
        "type": "object",
        "required": [
          "preimage",
          "pubNonce",
          "publicKey",
          "transactionHash"
        ],
        "properties": {
          "preimage": {
            "type": "string",
            "description": "Preimage of the invoice for the Submarine Swap encoded as HEX"
          },
          "pubNonce": {
            "type": "string",
            "description": "Public nonce of Boltz encoded as HEX"
          },
          "publicKey": {
            "type": "string",
            "description": "Public key of Boltz encoded as HEX"
          },
          "transactionHash": {
            "type": "string",
            "description": "Hash of the transaction that should be signed"
          },
          "fundingAddressId": {
            "type": "string",
            "description": "ID of the funding address that was used for the Swap, whose keys have to be used to sign the transaction."
          }
        }
      },
      "ReversePair": {
        "type": "object",
        "required": [
          "hash",
          "rate",
          "limits",
          "fees"
        ],
        "properties": {
          "hash": {
            "type": "string",
            "description": "Hash of the pair that can be used when creating the Reverse Swap to ensure the information of the client is up-to-date"
          },
          "rate": {
            "type": "number",
            "description": "Exchange rate of the pair"
          },
          "limits": {
            "type": "object",
            "required": [
              "minimal",
              "maximal"
            ],
            "properties": {
              "minimal": {
                "type": "number",
                "description": "Minimal amount that can be swapped in satoshis"
              },
              "maximal": {
                "type": "number",
                "description": "Maximal amount that can be swapped in satoshis"
              }
            }
          },
          "fees": {
            "type": "object",
            "required": [
              "percentage",
              "minerFees"
            ],
            "properties": {
              "percentage": {
                "type": "number",
                "description": "Relative fee that will be charged in percent"
              },
              "minerFees": {
                "type": "object",
                "required": [
                  "lockup",
                  "claim"
                ],
                "properties": {
                  "lockup": {
                    "type": "number",
                    "description": "Absolute miner fee that will be charged in satoshis"
                  },
                  "claim": {
                    "type": "number",
                    "description": "Absolute miner fee that we estimate for the claim transaction in satoshis"
                  }
                }
              }
            }
          }
        }
      },
      "ReverseRequest": {
        "type": "object",
        "required": [
          "from",
          "to",
          "preimageHash"
        ],
        "properties": {
          "from": {
            "type": "string",
            "description": "The asset that is sent on lightning"
          },
          "to": {
            "type": "string",
            "description": "The asset that is received onchain"
          },
          "preimageHash": {
            "type": "string",
            "description": "SHA-256 hash of the preimage of the Reverse Swap encoded as HEX"
          },
          "claimPublicKey": {
            "type": "string",
            "description": "Public key with which the Reverse Swap can be claimed encoded as HEX"
          },
          "claimAddress": {
            "type": "string",
            "description": "EVM address with which the Reverse Swap can be claimed"
          },
          "invoiceAmount": {
            "type": "number",
            "description": "Amount for which the invoice should be; conflicts with \"onchainAmount\""
          },
          "onchainAmount": {
            "type": "number",
            "description": "Amount that should be locked in the onchain HTLC; conflicts with \"invoiceAmount\""
          },
          "pairHash": {
            "type": "string",
            "description": "Pair hash from the pair information for the client to check if their fee data is up-to-date"
          },
          "referralId": {
            "type": "string",
            "description": "Referral ID to be used for the Reverse Swap"
          },
          "address": {
            "type": "string",
            "description": "Address to be used for a BIP-21 direct payment"
          },
          "addressSignature": {
            "type": "string",
            "description": "Signature of the claim public key of the SHA256 hash of the address for the direct payment"
          },
          "claimCovenant": {
            "type": "boolean",
            "default": false,
            "description": "If the claim covenant should be added to the Taproot tree. Only possible when \"address\" is set"
          },
          "description": {
            "type": "string",
            "description": "Description of the created invoice and magic routing hint. Only ASCII and a maximum length of 100 characters is allowed"
          },
          "descriptionHash": {
            "type": "string",
            "description": "Description hash for the invoice. Takes precedence over \"description\" if both are specified"
          },
          "invoiceExpiry": {
            "type": "number",
            "description": "Expiry of the invoice in seconds"
          },
          "webhook": {
            "$ref": "#/components/schemas/WebhookData"
          },
          "extraFees": {
            "$ref": "#/components/schemas/ExtraFees"
          }
        }
      },
      "ReverseResponse": {
        "type": "object",
        "required": [
          "id",
          "invoice"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID of the created Reverse Swap"
          },
          "invoice": {
            "type": "string",
            "description": "Hold invoice of the Reverse Swap"
          },
          "swapTree": {
            "$ref": "#/components/schemas/SwapTree"
          },
          "lockupAddress": {
            "type": "string",
            "description": "HTLC address in which coins will be locked"
          },
          "refundPublicKey": {
            "type": "string",
            "description": "Public key of Boltz that will be used to refund UTXO HTLCs"
          },
          "refundAddress": {
            "type": "string",
            "description": "Address that should be specified as refund address for EVM lockup transactions"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Timeout block height of the onchain HTLC"
          },
          "timeoutBlockHeights": {
            "$ref": "#/components/schemas/ArkTimeouts"
          },
          "onchainAmount": {
            "type": "number",
            "description": "Amount that will be locked in the onchain HTLC"
          },
          "blindingKey": {
            "type": "string",
            "description": "Liquid blinding private key encoded as HEX"
          },
          "referralId": {
            "type": "string",
            "description": "Referral ID used for the swap"
          }
        }
      },
      "InvoiceExpiryRange": {
        "type": "object",
        "required": [
          "min",
          "max"
        ],
        "properties": {
          "min": {
            "type": "number",
            "description": "Minimum allowed invoice expiry in seconds for the pair"
          },
          "max": {
            "type": "number",
            "description": "Maximum allowed invoice expiry in seconds for the pair"
          }
        }
      },
      "ReverseTransaction": {
        "type": "object",
        "required": [
          "id",
          "timeoutBlockHeight"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID the lockup transaction"
          },
          "hex": {
            "type": "string",
            "description": "Lockup transaction as raw HEX"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Block height at which the time-lock expires"
          }
        }
      },
      "ReverseClaimRequest": {
        "type": "object",
        "required": [
          "preimage"
        ],
        "properties": {
          "preimage": {
            "type": "string",
            "description": "Preimage of the Reverse Swap encoded as HEX"
          },
          "pubNonce": {
            "type": "string",
            "description": "Public nonce of the client for the session encoded as HEX"
          },
          "transaction": {
            "type": "string",
            "description": "Transaction which should be signed encoded as HEX"
          },
          "index": {
            "type": "number",
            "description": "Index of the input of the transaction that should be signed"
          }
        }
      },
      "ReverseBip21": {
        "type": "object",
        "required": [
          "bip21",
          "signature"
        ],
        "properties": {
          "bip21": {
            "type": "string",
            "description": "BIP-21 for the Reverse Swap"
          },
          "signature": {
            "type": "string",
            "description": "Signature of the address in the BIP-21 of the public key in the routing hint"
          }
        }
      },
      "ChainPair": {
        "type": "object",
        "required": [
          "hash",
          "rate",
          "limits",
          "fees"
        ],
        "properties": {
          "hash": {
            "type": "string",
            "description": "Hash of the pair that can be used when creating the Chain Swap to ensure the information of the client is up-to-date"
          },
          "rate": {
            "type": "number",
            "description": "Exchange rate of the pair"
          },
          "limits": {
            "type": "object",
            "required": [
              "minimal",
              "maximal",
              "maximalZeroConf"
            ],
            "properties": {
              "minimal": {
                "type": "number",
                "description": "Minimal amount that can be swapped in satoshis"
              },
              "maximal": {
                "type": "number",
                "description": "Maximal amount that can be swapped in satoshis"
              },
              "maximalZeroConf": {
                "type": "number",
                "description": "Maximal amount that will be accepted 0-conf in satoshis"
              }
            }
          },
          "fees": {
            "type": "object",
            "required": [
              "percentage",
              "minerFees"
            ],
            "properties": {
              "percentage": {
                "type": "number",
                "description": "Relative fee that will be charged in percent"
              },
              "minerFees": {
                "type": "object",
                "required": [
                  "server",
                  "user"
                ],
                "properties": {
                  "server": {
                    "type": "number",
                    "description": "Absolute miner fee that Boltz charges"
                  },
                  "user": {
                    "type": "object",
                    "required": [
                      "claim",
                      "lockup"
                    ],
                    "properties": {
                      "claim": {
                        "type": "number",
                        "description": "Absolute miner fee that we estimate for the claim transaction in satoshis"
                      },
                      "lockup": {
                        "type": "number",
                        "description": "Absolute miner fee that we estimate for the user lockup in satoshis"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "ChainRequest": {
        "type": "object",
        "required": [
          "from",
          "to",
          "preimageHash"
        ],
        "properties": {
          "from": {
            "type": "string",
            "description": "The asset that is sent onchain by the client"
          },
          "to": {
            "type": "string",
            "description": "The asset that is received onchain by the client"
          },
          "preimageHash": {
            "type": "string",
            "description": "SHA-256 hash of the preimage of the Chain Swap encoded as HEX"
          },
          "claimPublicKey": {
            "type": "string",
            "description": "Public key with which the Chain Swap can be claimed encoded as HEX"
          },
          "refundPublicKey": {
            "type": "string",
            "description": "Public key with which the Chain Swap can be refunded encoded as HEX"
          },
          "claimAddress": {
            "type": "string",
            "description": "EVM address with which the Chain Swap can be claimed"
          },
          "userLockAmount": {
            "type": "number",
            "description": "Amount the client is expected to lock; conflicts with \"serverLockAmount\""
          },
          "serverLockAmount": {
            "type": "number",
            "description": "Amount the server should lock; conflicts with \"userLockAmount\""
          },
          "pairHash": {
            "type": "string",
            "description": "Pair hash from the pair information for the client to check if their fee data is up-to-date"
          },
          "referralId": {
            "type": "string",
            "description": "Referral ID to be used for the Chain Swap"
          },
          "webhook": {
            "$ref": "#/components/schemas/WebhookData"
          },
          "extraFees": {
            "$ref": "#/components/schemas/ExtraFees"
          }
        }
      },
      "ChainSwapData": {
        "type": "object",
        "required": [
          "amount"
        ],
        "properties": {
          "swapTree": {
            "$ref": "#/components/schemas/SwapTree"
          },
          "lockupAddress": {
            "type": "string",
            "description": "HTLC address in which coins will be locked"
          },
          "serverPublicKey": {
            "type": "string",
            "description": "Public key of Boltz that is used in the aggregated public key"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Timeout block height of the onchain HTLC"
          },
          "timeoutBlockHeights": {
            "$ref": "#/components/schemas/ArkTimeouts"
          },
          "amount": {
            "type": "number",
            "description": "Amount that is supposed to be locked in the onchain HTLC"
          },
          "blindingKey": {
            "type": "string",
            "description": "Liquid blinding private key encoded as HEX"
          },
          "refundAddress": {
            "type": "string",
            "description": "Address that should be specified as refund address for EVM lockup transactions"
          },
          "bip21": {
            "type": "string",
            "description": "BIP-21 for the UTXO onchain lockup of the user"
          },
          "claimAddress": {
            "type": "string",
            "description": "EVM address with which the Chain Swap can be claimed"
          }
        }
      },
      "ChainResponse": {
        "type": "object",
        "required": [
          "id",
          "claimDetails",
          "lockupDetails"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID of the created Chain Swap"
          },
          "referralId": {
            "type": "string",
            "description": "Referral ID used for the swap"
          },
          "claimDetails": {
            "$ref": "#/components/schemas/ChainSwapData"
          },
          "lockupDetails": {
            "$ref": "#/components/schemas/ChainSwapData"
          }
        }
      },
      "ChainSwapTransaction": {
        "type": "object",
        "required": [
          "transaction"
        ],
        "properties": {
          "transaction": {
            "type": "object",
            "required": [
              "id"
            ],
            "properties": {
              "id": {
                "type": "string",
                "description": "ID of the transaction"
              },
              "hex": {
                "type": "string",
                "description": "The transaction encoded as HEX; set for UTXO based chains"
              }
            }
          },
          "timeout": {
            "type": "object",
            "required": [
              "blockHeight"
            ],
            "properties": {
              "blockHeight": {
                "type": "number",
                "description": "Timeout block height of the onchain HTLC"
              },
              "eta": {
                "type": "number",
                "description": "Expected UNIX timestamp of the expiry of the onchain HTLC if not expired already"
              }
            }
          }
        }
      },
      "ChainSwapTransactions": {
        "type": "object",
        "properties": {
          "userLock": {
            "$ref": "#/components/schemas/ChainSwapTransaction"
          },
          "serverLock": {
            "$ref": "#/components/schemas/ChainSwapTransaction"
          }
        }
      },
      "ChainSwapSigningDetails": {
        "type": "object",
        "required": [
          "pubNonce",
          "publicKey",
          "transactionHash"
        ],
        "properties": {
          "pubNonce": {
            "type": "string",
            "description": "Public nonce of the client for the session, encoded as HEX"
          },
          "publicKey": {
            "type": "string",
            "description": "Public key of the server that was used in the aggregated public key"
          },
          "transactionHash": {
            "type": "string",
            "description": "Transaction hash which should be signed, encoded as HEX"
          },
          "fundingAddressId": {
            "type": "string",
            "description": "ID of the funding address that was used for the Swap, whose keys have to be used to sign the transaction."
          }
        }
      },
      "ChainSwapSigningRequest": {
        "type": "object",
        "properties": {
          "preimage": {
            "type": "string",
            "description": "Preimage of the Chain Swap, encoded as HEX"
          },
          "signature": {
            "$ref": "#/components/schemas/PartialSignature"
          },
          "toSign": {
            "type": "object",
            "required": [
              "pubNonce",
              "transaction",
              "index"
            ],
            "properties": {
              "pubNonce": {
                "type": "string",
                "description": "Public nonce of the client for the session encoded as HEX"
              },
              "transaction": {
                "type": "string",
                "description": "Transaction which should be signed encoded as HEX"
              },
              "index": {
                "type": "number",
                "description": "Index of the input of the transaction that should be signed"
              }
            }
          }
        }
      },
      "Quote": {
        "type": "object",
        "required": [
          "amount"
        ],
        "properties": {
          "amount": {
            "type": "number",
            "description": "New quote for a Swap. Amount that the server will lock for Chain Swaps"
          }
        }
      },
      "QuoteResponse": {
        "type": "object"
      },
      "SwapStatus": {
        "type": "object",
        "required": [
          "status"
        ],
        "properties": {
          "status": {
            "type": "string",
            "description": "Status of the Swap"
          },
          "zeroConfRejected": {
            "type": "boolean",
            "description": "Whether 0-conf was accepted for the lockup transaction of the user"
          },
          "transaction": {
            "type": "object",
            "description": "Details of the transaction relevant to the status update",
            "properties": {
              "id": {
                "type": "string",
                "description": "ID of the transaction"
              },
              "hex": {
                "type": "string",
                "description": "Raw hex of the transaction"
              }
            }
          }
        }
      },
      "RescueRequest": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "xpub"
            ],
            "properties": {
              "xpub": {
                "type": "string",
                "description": "Extended public key (XPUB) to derive child keys from and search for associated swaps"
              },
              "derivationPath": {
                "type": "string",
                "description": "Optional derivation path for child key derivation. Defaults to m/44/0/0/0"
              },
              "gapLimit": {
                "type": "number",
                "description": "Maximum number of consecutive unused keys to scan before stopping. Must be between 1 and 150. Defaults to 50",
                "minimum": 1,
                "maximum": 150
              },
              "pagination": {
                "type": "object",
                "required": [
                  "startIndex",
                  "limit"
                ],
                "properties": {
                  "startIndex": {
                    "type": "number",
                    "description": "Starting key derivation index for pagination. Must be provided together with limit",
                    "minimum": 0
                  },
                  "limit": {
                    "type": "number",
                    "description": "Number of keys to scan from startIndex. Must be provided together with startIndex. Must be at least 1",
                    "minimum": 1
                  }
                }
              }
            }
          },
          {
            "type": "object",
            "required": [
              "publicKey"
            ],
            "properties": {
              "publicKey": {
                "type": "string",
                "description": "Single public key (hex-encoded) to search for in swaps. Use this when you know the exact key used"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "publicKeys"
            ],
            "properties": {
              "publicKeys": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Array of public keys (hex-encoded) to search for in swaps. Use this to check multiple specific keys at once"
              }
            }
          }
        ]
      },
      "Transaction": {
        "type": "object",
        "required": [
          "id",
          "hex"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID of the transaction"
          },
          "hex": {
            "type": "string",
            "description": "The transaction encoded as HEX"
          }
        }
      },
      "RescuableSwap": {
        "type": "object",
        "required": [
          "id",
          "type",
          "status",
          "symbol",
          "keyIndex",
          "preimageHash",
          "timeoutBlockHeight",
          "serverPublicKey",
          "tree",
          "lockupAddress",
          "createdAt"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID of the Swap"
          },
          "type": {
            "type": "string",
            "enum": [
              "submarine",
              "chain"
            ],
            "description": "Type of the Swap"
          },
          "status": {
            "type": "string",
            "description": "Status of the Swap"
          },
          "symbol": {
            "type": "string",
            "description": "Symbol of the chain on which the funds locked for the swap can be rescued"
          },
          "keyIndex": {
            "type": "number",
            "description": "Derivation index for the refund key used in the swap"
          },
          "preimageHash": {
            "type": "string",
            "description": "Preimage hash of the swap"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Block height at which the rescuable onchain HTLCs will time out"
          },
          "serverPublicKey": {
            "type": "string",
            "description": "Public key of the server"
          },
          "blindingKey": {
            "type": "string",
            "description": "Blinding key of the lockup address. Only set when the chain is Liquid"
          },
          "tree": {
            "$ref": "#/components/schemas/SwapTree"
          },
          "lockupAddress": {
            "type": "string",
            "description": "Lockup address of the Swap"
          },
          "transaction": {
            "$ref": "#/components/schemas/Transaction"
          },
          "createdAt": {
            "type": "number",
            "description": "UNIX timestamp of the creation of the Swap"
          }
        }
      },
      "RestoreClaimDetails": {
        "type": "object",
        "required": [
          "tree",
          "keyIndex",
          "lockupAddress",
          "serverPublicKey",
          "preimageHash"
        ],
        "properties": {
          "tree": {
            "$ref": "#/components/schemas/SwapTree"
          },
          "amount": {
            "type": "number",
            "description": "Amount locked in the swap (in satoshis)"
          },
          "keyIndex": {
            "type": "number",
            "description": "Derivation index for the claim key used in the swap"
          },
          "transaction": {
            "$ref": "#/components/schemas/Transaction"
          },
          "lockupAddress": {
            "type": "string",
            "description": "Address in which coins are locked"
          },
          "serverPublicKey": {
            "type": "string",
            "description": "Public key of the server"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Block height at which the HTLC will time out"
          },
          "timeoutBlockHeights": {
            "$ref": "#/components/schemas/ArkTimeouts"
          },
          "blindingKey": {
            "type": "string",
            "description": "Blinding key of the lockup address. Only set when the chain is Liquid"
          },
          "preimageHash": {
            "type": "string",
            "description": "Hash of the preimage required to claim the swap"
          }
        }
      },
      "RestoreRefundDetails": {
        "type": "object",
        "required": [
          "tree",
          "keyIndex",
          "lockupAddress",
          "serverPublicKey"
        ],
        "properties": {
          "tree": {
            "$ref": "#/components/schemas/SwapTree"
          },
          "amount": {
            "type": "number",
            "description": "Amount of the swap"
          },
          "keyIndex": {
            "type": "number",
            "description": "Derivation index for the refund key used in the swap"
          },
          "transaction": {
            "$ref": "#/components/schemas/Transaction"
          },
          "lockupAddress": {
            "type": "string",
            "description": "Address in which coins are locked"
          },
          "serverPublicKey": {
            "type": "string",
            "description": "Public key of the server"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Block height at which the HTLC will time out"
          },
          "timeoutBlockHeights": {
            "$ref": "#/components/schemas/ArkTimeouts"
          },
          "blindingKey": {
            "type": "string",
            "description": "Blinding key of the lockup address. Only set when the chain is Liquid"
          }
        }
      },
      "Restorable": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/RestorableSwap"
          },
          {
            "$ref": "#/components/schemas/RestorableFundingAddress"
          }
        ],
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "submarine": "#/components/schemas/RestorableSwap",
            "reverse": "#/components/schemas/RestorableSwap",
            "chain": "#/components/schemas/RestorableSwap",
            "funding": "#/components/schemas/RestorableFundingAddress"
          }
        }
      },
      "RestorableSwap": {
        "type": "object",
        "required": [
          "id",
          "type",
          "status",
          "createdAt",
          "from",
          "to",
          "preimageHash"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID of the Swap"
          },
          "type": {
            "type": "string",
            "enum": [
              "submarine",
              "reverse",
              "chain"
            ],
            "description": "Swap type"
          },
          "status": {
            "type": "string",
            "description": "Status"
          },
          "createdAt": {
            "type": "number",
            "description": "UNIX timestamp of the creation"
          },
          "from": {
            "type": "string",
            "description": "Asset the client is supposed to send"
          },
          "to": {
            "type": "string",
            "description": "Asset the client is supposed to receive"
          },
          "preimageHash": {
            "type": "string",
            "description": "Hash of the preimage required to claim the swap"
          },
          "claimDetails": {
            "$ref": "#/components/schemas/RestoreClaimDetails"
          },
          "refundDetails": {
            "$ref": "#/components/schemas/RestoreRefundDetails"
          }
        }
      },
      "RestorableFundingAddress": {
        "type": "object",
        "required": [
          "id",
          "type",
          "status",
          "createdAt",
          "chain",
          "tree",
          "keyIndex",
          "serverPublicKey",
          "timeoutBlockHeight"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID of the Funding Address"
          },
          "type": {
            "type": "string",
            "enum": [
              "funding"
            ],
            "description": "Funding address entity type"
          },
          "status": {
            "type": "string",
            "description": "Status"
          },
          "createdAt": {
            "type": "number",
            "description": "UNIX timestamp of the creation"
          },
          "chain": {
            "type": "string",
            "description": "Chain of the funding address"
          },
          "tree": {
            "$ref": "#/components/schemas/FundingAddressTree"
          },
          "keyIndex": {
            "type": "number",
            "description": "Derivation index for the refund key used in the funding address"
          },
          "transaction": {
            "$ref": "#/components/schemas/Transaction"
          },
          "serverPublicKey": {
            "type": "string",
            "description": "Public key of the server"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Block height at which the funding address refund path becomes spendable"
          },
          "blindingKey": {
            "type": "string",
            "description": "Blinding key of the lockup address. Only set when the chain is Liquid"
          }
        }
      },
      "FundingAddressTree": {
        "type": "object",
        "required": [
          "refundLeaf"
        ],
        "properties": {
          "refundLeaf": {
            "$ref": "#/components/schemas/SwapTreeLeaf"
          }
        }
      },
      "FundingAddressDetails": {
        "type": "object",
        "required": [
          "tree",
          "keyIndex",
          "serverPublicKey",
          "timeoutBlockHeight"
        ],
        "properties": {
          "tree": {
            "$ref": "#/components/schemas/FundingAddressTree"
          },
          "keyIndex": {
            "type": "number",
            "description": "Derivation index for the refund key used in the funding address"
          },
          "transaction": {
            "$ref": "#/components/schemas/Transaction"
          },
          "serverPublicKey": {
            "type": "string",
            "description": "Public key of the server"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Block height at which the funding address refund path becomes spendable"
          },
          "blindingKey": {
            "type": "string",
            "description": "Blinding key of the lockup address. Only set when the chain is Liquid"
          }
        }
      },
      "RestoreIndexResponse": {
        "type": "object",
        "required": [
          "index"
        ],
        "properties": {
          "index": {
            "type": "number",
            "description": "Highest key derivation index found among all swaps associated with the provided keys. Returns -1 if no swaps were found"
          }
        }
      },
      "AssetRescueSetupRequest": {
        "type": "object",
        "required": [
          "swapId",
          "transactionId",
          "vout",
          "destination"
        ],
        "properties": {
          "swapId": {
            "type": "string",
            "description": "ID of the Swap to rescue"
          },
          "transactionId": {
            "type": "string",
            "description": "Transaction ID of the lockup transaction"
          },
          "vout": {
            "type": "number",
            "description": "Output index of the lockup transaction"
          },
          "destination": {
            "type": "string",
            "description": "Address to which the funds should be rescued"
          }
        }
      },
      "AssetRescueMusigData": {
        "type": "object",
        "required": [
          "serverPublicKey",
          "pubNonce",
          "message"
        ],
        "properties": {
          "serverPublicKey": {
            "type": "string",
            "description": "Server's public key for musig signing"
          },
          "pubNonce": {
            "type": "string",
            "description": "Server's public nonce for musig signing"
          },
          "message": {
            "type": "string",
            "description": "Message to be signed"
          }
        }
      },
      "AssetRescueSetupResponse": {
        "type": "object",
        "required": [
          "musig",
          "transaction"
        ],
        "properties": {
          "musig": {
            "$ref": "#/components/schemas/AssetRescueMusigData"
          },
          "transaction": {
            "type": "string",
            "description": "Partially signed transaction encoded as HEX"
          }
        }
      },
      "AssetRescueBroadcastRequest": {
        "type": "object",
        "required": [
          "swapId",
          "pubNonce",
          "partialSignature"
        ],
        "properties": {
          "swapId": {
            "type": "string",
            "description": "ID of the Swap being rescued"
          },
          "pubNonce": {
            "type": "string",
            "description": "Client's public nonce for musig signing encoded as HEX"
          },
          "partialSignature": {
            "type": "string",
            "description": "Client's partial signature encoded as HEX"
          }
        }
      },
      "AssetRescueBroadcastResponse": {
        "type": "object",
        "required": [
          "transactionId"
        ],
        "properties": {
          "transactionId": {
            "type": "string",
            "description": "Transaction ID of the broadcasted rescue transaction"
          }
        }
      },
      "PairStats": {
        "type": "object",
        "required": [
          "fee"
        ],
        "properties": {
          "fee": {
            "type": "array",
            "description": "Time series data for swap fees",
            "items": {
              "type": "array",
              "items": {
                "oneOf": [
                  {
                    "type": "integer",
                    "description": "UNIX timestamp"
                  },
                  {
                    "type": "number",
                    "description": "Fee value"
                  }
                ]
              },
              "minItems": 2,
              "maxItems": 2
            }
          },
          "maximalRoutingFee": {
            "type": "array",
            "description": "Time series data for maximal Lightning routing fees (only for submarine swaps)",
            "items": {
              "type": "array",
              "items": {
                "oneOf": [
                  {
                    "type": "integer",
                    "description": "UNIX timestamp"
                  },
                  {
                    "type": "number",
                    "description": "Maximal Lightning routing fee percentage"
                  }
                ]
              },
              "minItems": 2,
              "maxItems": 2
            }
          }
        }
      },
      "LightningNode": {
        "type": "object",
        "required": [
          "id"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "Public key of the node"
          },
          "alias": {
            "type": "string",
            "description": "Alias of the node"
          },
          "color": {
            "type": "string",
            "description": "Color code of the node"
          }
        }
      },
      "LightningChannelPolicy": {
        "type": "object",
        "required": [
          "active",
          "baseFeeMillisatoshi",
          "feePpm",
          "delay"
        ],
        "properties": {
          "active": {
            "type": "boolean",
            "description": "Whether the channel is active"
          },
          "baseFeeMillisatoshi": {
            "type": "number",
            "description": "Base fee of the channel in millisatoshi"
          },
          "feePpm": {
            "type": "number",
            "description": "Parts per million fee of the channel"
          },
          "delay": {
            "type": "number",
            "description": "CLTV delay of the channel in blocks"
          },
          "htlcMinimumMillisatoshi": {
            "type": "number",
            "description": "Minimum allowed HTLC value in millisatoshi"
          },
          "htlcMaximumMillisatoshi": {
            "type": "number",
            "description": "Maximum allowed HTLC value in millisatoshi"
          }
        }
      },
      "LightningChannel": {
        "type": "object",
        "required": [
          "source",
          "shortChannelId"
        ],
        "properties": {
          "source": {
            "$ref": "#/components/schemas/LightningNode"
          },
          "shortChannelId": {
            "type": "string",
            "description": "ID of the channel"
          },
          "capacity": {
            "type": "number",
            "description": "Capacity of the channel in satoshi"
          },
          "active": {
            "type": "boolean",
            "description": "Whether the channel can be used"
          },
          "info": {
            "$ref": "#/components/schemas/LightningChannelPolicy"
          }
        }
      },
      "LightningChannelInfo": {
        "type": "object",
        "required": [
          "shortChannelId",
          "capacity",
          "policies"
        ],
        "properties": {
          "shortChannelId": {
            "type": "string",
            "description": "ID of the channel"
          },
          "capacity": {
            "type": "number",
            "description": "Capacity of the channel in satoshi"
          },
          "policies": {
            "type": "array",
            "description": "Policies of the channel partners",
            "items": {
              "$ref": "#/components/schemas/LightningChannelPolicy"
            }
          }
        }
      },
      "Contracts": {
        "type": "object",
        "required": [
          "network",
          "swapContracts",
          "supportedContracts",
          "tokens"
        ],
        "properties": {
          "network": {
            "type": "object",
            "description": "Information about the network",
            "required": [
              "chainId",
              "name"
            ],
            "properties": {
              "chainId": {
                "type": "number",
                "description": "ID of the chain"
              },
              "name": {
                "type": "string",
                "description": "Name of the chain if applicable"
              }
            }
          },
          "swapContracts": {
            "type": "object",
            "description": "Addresses of the swap contracts for the current version",
            "required": [
              "EtherSwap",
              "ERC20Swap"
            ],
            "properties": {
              "EtherSwap": {
                "type": "string",
                "description": "Address of the EtherSwap contract"
              },
              "ERC20Swap": {
                "type": "string",
                "description": "Address of the ERC20Swap contract"
              }
            }
          },
          "supportedContracts": {
            "type": "object",
            "description": "Mapping of contract version numbers to their swap contract addresses and supported features",
            "additionalProperties": {
              "type": "object",
              "required": [
                "EtherSwap",
                "ERC20Swap",
                "features"
              ],
              "properties": {
                "EtherSwap": {
                  "type": "string",
                  "description": "Address of the EtherSwap contract for this version"
                },
                "ERC20Swap": {
                  "type": "string",
                  "description": "Address of the ERC20Swap contract for this version"
                },
                "features": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "BatchClaim",
                      "CommitmentSwap"
                    ]
                  },
                  "description": "Features supported by this contract version"
                }
              }
            }
          },
          "tokens": {
            "type": "object",
            "description": "Mapping of the symbol of tokens to their address",
            "additionalProperties": {
              "type": "string",
              "description": "Address of the token"
            }
          }
        }
      },
      "TokenQuote": {
        "type": "object",
        "required": [
          "quote",
          "data"
        ],
        "properties": {
          "quote": {
            "type": "string",
            "description": "Quote for the token swap"
          },
          "data": {
            "type": "object",
            "additionalProperties": true
          }
        }
      },
      "Call": {
        "type": "object",
        "required": [
          "to",
          "value",
          "data"
        ],
        "properties": {
          "to": {
            "type": "string",
            "description": "Contract address to call"
          },
          "value": {
            "type": "string",
            "description": "Value to send with the call"
          },
          "data": {
            "type": "string",
            "description": "Encoded function calldata"
          }
        }
      },
      "NodeInfo": {
        "type": "object",
        "required": [
          "publicKey",
          "uris"
        ],
        "properties": {
          "publicKey": {
            "type": "string"
          },
          "uris": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "NodeStats": {
        "type": "object",
        "required": [
          "capacity",
          "channels",
          "peers",
          "oldestChannel"
        ],
        "properties": {
          "capacity": {
            "type": "integer"
          },
          "channels": {
            "type": "integer"
          },
          "peers": {
            "type": "integer"
          },
          "oldestChannel": {
            "type": "integer",
            "description": "UNIX timestamp of the block in which the funding transaction of the oldest channel was included"
          }
        }
      },
      "CommitmentLockupDetails": {
        "type": "object",
        "required": [
          "contract",
          "claimAddress",
          "timelock"
        ],
        "properties": {
          "contract": {
            "type": "string",
            "description": "Address of the swap contract to lock funds in"
          },
          "claimAddress": {
            "type": "string",
            "description": "Address that will claim the locked funds"
          },
          "timelock": {
            "type": "number",
            "description": "Block height until which the funds should be locked"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "required": [
          "error"
        ],
        "properties": {
          "error": {
            "type": "string",
            "description": "Description of the error that caused the request to fail"
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Info",
      "description": "General information"
    },
    {
      "name": "Submarine Swap",
      "description": "Submarine Swap related endpoints"
    },
    {
      "name": "Reverse Swap",
      "description": "Reverse Swap related endpoints"
    },
    {
      "name": "Chain Swap",
      "description": "Chain Swap related endpoints"
    },
    {
      "name": "Swap",
      "description": "Generic Swap related endpoints"
    },
    {
      "name": "Asset Rescue",
      "description": "Asset rescue related endpoints for recovering locked funds"
    },
    {
      "name": "Historical Data",
      "description": "Historical data related endpoints"
    },
    {
      "name": "Lightning",
      "description": "Lightning related endpoints"
    },
    {
      "name": "Chain",
      "description": "Onchain data related endpoints"
    },
    {
      "name": "Quotes",
      "description": "Quotes and transaction encoding for token swaps"
    },
    {
      "name": "Nodes",
      "description": "Lightning nodes"
    },
    {
      "name": "Commitment",
      "description": "Commitment swap related endpoints"
    },
    {
      "name": "Referral",
      "description": "Referral related endpoints"
    }
  ],
  "servers": [
    {
      "url": "https://api.boltz.exchange/v2",
      "description": "Mainnet"
    },
    {
      "url": "http://localhost:9006/v2",
      "description": "Regtest"
    }
  ]
}