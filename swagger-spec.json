{
  "openapi": "3.0.0",
  "info": {
    "title": "Boltz API",
    "version": "3.11.0"
  },
  "paths": {
    "/chain/fees": {
      "get": {
        "description": "Fee estimations for all supported chains",
        "tags": [
          "Chain"
        ],
        "responses": {
          "200": {
            "description": "Object of currency of chain -> fee estimation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "number",
                    "description": "Fee estimation in sat/vbyte or GWEI"
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"BTC\":19,\"L-BTC\":0.11}"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/chain/heights": {
      "get": {
        "description": "Block heights for all supported chains",
        "tags": [
          "Chain"
        ],
        "responses": {
          "200": {
            "description": "Object of currency of chain -> block height",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "number",
                    "description": "Block height of the chain"
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"BTC\":830311,\"L-BTC\":2725579}"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/chain/contracts": {
      "get": {
        "tags": [
          "Chain"
        ],
        "description": "Get the network information and contract addresses for all supported EVM chains",
        "responses": {
          "200": {
            "description": "Network details and contract addresses on the chain",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "$ref": "#/components/schemas/Contracts"
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"rsk\":{\"network\":{\"chainId\":31337},\"tokens\":{\"USDT\":\"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0\"},\"swapContracts\":{\"EtherSwap\":\"0x5FbDB2315678afecb367f032d93F642f64180aa3\",\"ERC20Swap\":\"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512\"}}}"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/chain/{currency}/fee": {
      "get": {
        "description": "Fee estimations for a chain",
        "tags": [
          "Chain"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the chain to get a fee estimation for"
          }
        ],
        "responses": {
          "200": {
            "description": "Object containing the fee estimation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "fee"
                  ],
                  "properties": {
                    "fee": {
                      "type": "number",
                      "description": "Fee estimation in sat/vbyte or GWEI"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/chain/{currency}/height": {
      "get": {
        "description": "Block height for a chain",
        "tags": [
          "Chain"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the chain to get the block height for"
          }
        ],
        "responses": {
          "200": {
            "description": "Object containing the block height",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "height"
                  ],
                  "properties": {
                    "height": {
                      "type": "number",
                      "description": "Block height of the chain"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/chain/{currency}/transaction/{id}": {
      "get": {
        "tags": [
          "Chain"
        ],
        "description": "Fetch a raw transaction by its id",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the chain to query for"
          },
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Id of the transaction to query"
          }
        ],
        "responses": {
          "200": {
            "description": "Raw transaction",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "hex"
                  ],
                  "properties": {
                    "hex": {
                      "type": "string",
                      "description": "The transaction encoded as HEX"
                    },
                    "confirmations": {
                      "type": "number",
                      "description": "Number of confirmations the transaction has; not set if not confirmed yet"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the query for the transaction to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/chain/{currency}/transaction": {
      "post": {
        "tags": [
          "Chain"
        ],
        "description": "Broadcast a transaction",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the chain to broadcast on"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "hex"
                ],
                "properties": {
                  "hex": {
                    "type": "string",
                    "description": "The transaction to broadcast as raw HEX"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "ID of the broadcast transaction",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "id"
                  ],
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "ID of the broadcast transaction"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the broadcast of the transaction to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/chain/{currency}/contracts": {
      "get": {
        "tags": [
          "Chain"
        ],
        "description": "Get the network information and contract addresses for a supported EVM chains",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the chain to query for"
          }
        ],
        "responses": {
          "200": {
            "description": "Raw transaction",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Contracts"
                },
                "examples": {
                  "json": {
                    "value": "{\"network\":{\"chainId\":31337},\"tokens\":{\"USDT\":\"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0\"},\"swapContracts\":{\"EtherSwap\":\"0x5FbDB2315678afecb367f032d93F642f64180aa3\",\"ERC20Swap\":\"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512\"}}"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the query for the transaction to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Error when the currency is not on an EVM chain",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/version": {
      "get": {
        "description": "Version of the backend",
        "tags": [
          "Info"
        ],
        "responses": {
          "200": {
            "description": "Version information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "version"
                  ],
                  "properties": {
                    "version": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/infos": {
      "get": {
        "description": "Information about the configuration of the backend",
        "tags": [
          "Info"
        ],
        "responses": {
          "200": {
            "description": "Configuration information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/warnings": {
      "get": {
        "description": "Warnings about the configuration of the backend",
        "tags": [
          "Info"
        ],
        "responses": {
          "200": {
            "description": "Service warnings",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/node/{node}": {
      "get": {
        "tags": [
          "Lightning"
        ],
        "description": "Gets information about a lightning node",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          },
          {
            "in": "path",
            "name": "node",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Public key of the node to get information for"
          }
        ],
        "responses": {
          "200": {
            "description": "Information about the lightning node",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LightningNode"
                }
              }
            }
          },
          "400": {
            "description": "Unprocessable request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the node cannot be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/channel/{id}": {
      "get": {
        "tags": [
          "Lightning"
        ],
        "description": "Gets information about a specific lightning channel",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          },
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the channel to get information for (LND and CLN style accepted)"
          }
        ],
        "responses": {
          "200": {
            "description": "Information about the lightning channel",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LightningChannelInfo"
                }
              }
            }
          },
          "400": {
            "description": "Unprocessable request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the channel cannot be found or the currency is not supported",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/channels/{node}": {
      "get": {
        "tags": [
          "Lightning"
        ],
        "description": "Gets the channels of a lightning node",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          },
          {
            "in": "path",
            "name": "node",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Public key of the node to get channels for"
          }
        ],
        "responses": {
          "200": {
            "description": "Channels of the lightning node",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LightningChannel"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Unprocessable acceptable request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the node cannot be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/search": {
      "get": {
        "tags": [
          "Lightning"
        ],
        "description": "Search for lightning nodes by alias",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          },
          {
            "in": "query",
            "name": "alias",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Alias of the node to search for"
          }
        ],
        "responses": {
          "200": {
            "description": "List of matching lightning nodes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LightningNode"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the node cannot be found or the currency is not supported",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/bolt12": {
      "post": {
        "tags": [
          "Lightning"
        ],
        "description": "Creates a BOLT12 offer",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "offer"
                ],
                "properties": {
                  "offer": {
                    "type": "string",
                    "description": "The BOLT12 offer"
                  },
                  "url": {
                    "type": "string",
                    "description": "Webhook to call to fetch invoices for the offer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "BOLT12 offer created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the currency has no BOLT12 support",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Lightning"
        ],
        "description": "Updates the webhook URL for a BOLT12 offer",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "offer",
                  "signature"
                ],
                "properties": {
                  "offer": {
                    "type": "string",
                    "description": "The BOLT12 offer"
                  },
                  "url": {
                    "type": "string",
                    "description": "Webhook to call to fetch invoices for the offer. Omit to remove"
                  },
                  "signature": {
                    "type": "string",
                    "description": "Schnorr signature of the SHA256 hash of the new URL, or \"UPDATE\" if no URL is provided"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "BOLT12 offer updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the currency has no BOLT12 support or the offer was not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "When the signature is invalid hex",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/bolt12/delete": {
      "post": {
        "tags": [
          "Lightning"
        ],
        "description": "Deletes a BOLT12 offer",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "offer",
                  "signature"
                ],
                "properties": {
                  "offer": {
                    "type": "string",
                    "description": "The BOLT12 offer"
                  },
                  "signature": {
                    "type": "string",
                    "description": "Schnorr signature of the SHA256 hash of \"DELETE\""
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "BOLT12 offer deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When the currency has no BOLT12 support or the offer was not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "When the signature is invalid hex",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/bolt12/{receiving}": {
      "get": {
        "tags": [
          "Lightning"
        ],
        "description": "Gets parameters for a BOLT12 offer",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          },
          {
            "in": "path",
            "name": "receiving",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Symbol of the chain to which invoices of the offer should be swapped to"
          }
        ],
        "responses": {
          "200": {
            "description": "Parameters for the BOLT12 offer",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "minCltv"
                  ],
                  "properties": {
                    "minCltv": {
                      "type": "integer",
                      "description": "Minimum CLTV value"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "BOLT12 Reverse Swaps not available for the sending symbol",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/lightning/{currency}/bolt12/fetch": {
      "post": {
        "tags": [
          "Lightning"
        ],
        "description": "Fetches an invoice for a BOLT12 offer",
        "parameters": [
          {
            "in": "path",
            "name": "currency",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Currency of the lightning network to use"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "offer",
                  "amount"
                ],
                "properties": {
                  "offer": {
                    "type": "string",
                    "description": "A BOLT12 offer"
                  },
                  "amount": {
                    "type": "number",
                    "description": "Amount of the invoice that should be fetched in satoshis"
                  },
                  "note": {
                    "type": "string",
                    "description": "Optional note to include in the invoice request"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "BOLT12 invoice fetched from the offer",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "invoice"
                  ],
                  "properties": {
                    "invoice": {
                      "type": "string",
                      "description": "A BOLT12 invoice"
                    },
                    "magicRoutingHint": {
                      "$ref": "#/components/schemas/ReverseBip21"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "When the currency has no BOLT12 support",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "When no invoice could be fetched",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/nodes": {
      "get": {
        "description": "Information about the Lightning nodes the backend is connected to",
        "tags": [
          "Nodes"
        ],
        "responses": {
          "200": {
            "description": "Lightning node information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "additionalProperties": {
                      "$ref": "#/components/schemas/NodeInfo"
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"BTC\":{\"LND\":{\"publicKey\":\"026165850492521f4ac8abd9bd8088123446d126f648ca35e60f88177dc149ceb2\",\"uris\":[\"026165850492521f4ac8abd9bd8088123446d126f648ca35e60f88177dc149ceb2@45.86.229.190:9735\",\"026165850492521f4ac8abd9bd8088123446d126f648ca35e60f88177dc149ceb2@d7kak4gpnbamm3b4ufq54aatgm3alhx3jwmu6kyy2bgjaauinkipz3id.onion:9735\"]},\"CLN\":{\"publicKey\":\"02d96eadea3d780104449aca5c93461ce67c1564e2e1d73225fa67dd3b997a6018\",\"uris\":[\"02d96eadea3d780104449aca5c93461ce67c1564e2e1d73225fa67dd3b997a6018@45.86.229.190:9736\",\"02d96eadea3d780104449aca5c93461ce67c1564e2e1d73225fa67dd3b997a6018@2a10:1fc0:3::270:a9dc:9736\",\"02d96eadea3d780104449aca5c93461ce67c1564e2e1d73225fa67dd3b997a6018@oo5tkbbpgnqjopdjxepyfavx3yemtylgzul67s7zzzxfeeqpde6yr7yd.onion:9736\"]}}}"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/nodes/stats": {
      "get": {
        "description": "Statistics about the Lightning nodes the backend is connected to",
        "tags": [
          "Nodes"
        ],
        "responses": {
          "200": {
            "description": "Statistics about Lightning nodes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "properties": {
                      "total": {
                        "$ref": "#/components/schemas/NodeStats"
                      }
                    },
                    "additionalProperties": {
                      "$ref": "#/components/schemas/NodeStats"
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"BTC\":{\"LND\":{\"capacity\":5806395450,\"channels\":1052,\"peers\":2199,\"oldestChannel\":1553900632},\"CLN\":{\"capacity\":1062157049,\"channels\":79,\"peers\":124,\"oldestChannel\":1692910360},\"total\":{\"capacity\":6868552499,\"channels\":1131,\"peers\":2323,\"oldestChannel\":1553900632}}}"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/referral": {
      "get": {
        "description": "Referral ID for the used API keys",
        "tags": [
          "Referral"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "TS",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Current UNIX timestamp when the request is sent"
          },
          {
            "in": "header",
            "name": "API-KEY",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Your API key"
          },
          {
            "in": "header",
            "name": "API-HMAC",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "HMAC-SHA256 with your API-Secret as key of the TS + HTTP method (all uppercase) + the HTTP path"
          }
        ],
        "responses": {
          "200": {
            "description": "The referral ID for your API-KEY to be used when creating Swaps",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "id"
                  ],
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "The referral ID for your API-KEY"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized in case of an unknown API-KEY or bad HMAC",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/referral/fees": {
      "get": {
        "description": "Referral fees collected for an ID",
        "tags": [
          "Referral"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "TS",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Current UNIX timestamp when the request is sent"
          },
          {
            "in": "header",
            "name": "API-KEY",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Your API key"
          },
          {
            "in": "header",
            "name": "API-HMAC",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "HMAC-SHA256 with your API-Secret as key of the TS + HTTP method (all uppercase) + the HTTP path"
          }
        ],
        "responses": {
          "200": {
            "description": "The referral ID for your API-KEY to be used when creating Swaps",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Year",
                  "additionalProperties": {
                    "type": "object",
                    "description": "Month",
                    "additionalProperties": {
                      "type": "object",
                      "description": "Fees collected in that month",
                      "additionalProperties": {
                        "type": "string",
                        "description": "Fees collected in that currency in satoshis"
                      }
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"2024\":{\"1\":{\"BTC\":307}}}"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized in case of an unknown API-KEY or bad HMAC",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/referral/stats": {
      "get": {
        "description": "Statistics for Swaps created with an referral ID",
        "tags": [
          "Referral"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "TS",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Current UNIX timestamp when the request is sent"
          },
          {
            "in": "header",
            "name": "API-KEY",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Your API key"
          },
          {
            "in": "header",
            "name": "API-HMAC",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "HMAC-SHA256 with your API-Secret as key of the TS + HTTP method (all uppercase) + the HTTP path"
          }
        ],
        "responses": {
          "200": {
            "description": "Swap statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Year",
                  "additionalProperties": {
                    "type": "object",
                    "description": "Month",
                    "additionalProperties": {
                      "type": "object",
                      "description": "Swap statistics for that month",
                      "properties": {
                        "volume": {
                          "description": "Swap volume",
                          "properties": {
                            "total": {
                              "type": "string",
                              "description": "Volume across all pairs in BTC"
                            }
                          },
                          "additionalProperties": {
                            "type": "string",
                            "description": "Volume in that pair in BTC"
                          }
                        },
                        "trades": {
                          "type": "object",
                          "description": "Swap counts",
                          "properties": {
                            "total": {
                              "type": "integer",
                              "description": "Swap count across all pairs"
                            }
                          },
                          "additionalProperties": {
                            "type": "integer",
                            "description": "Swap count for that pair"
                          }
                        },
                        "failureRates": {
                          "type": "object",
                          "description": "Swap failure rates for each type",
                          "properties": {
                            "swaps": {
                              "type": "number",
                              "description": "Submarine Swap failure rate"
                            },
                            "reverseSwaps": {
                              "type": "number",
                              "description": "Reverse Swap failure rate"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"2024\":{\"1\":{\"volume\":{\"total\":\"0.00321844\",\"L-BTC/BTC\":\"0.00321844\"},\"trades\":{\"total\":3,\"L-BTC/BTC\":3},\"failureRates\":{\"swaps\": 0.12, \"reverseSwaps\":0}}}}"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized in case of an unknown API-KEY or bad HMAC",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine": {
      "get": {
        "description": "Possible pairs for Submarine Swaps",
        "tags": [
          "Submarine"
        ],
        "responses": {
          "200": {
            "description": "Dictionary of the from -> to currencies that can be used in a Submarine Swap",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "additionalProperties": {
                      "$ref": "#/components/schemas/SubmarinePair"
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"BTC\":{\"BTC\":{\"hash\":\"90ab5c8e6ece5db52173e9423a0dd3071f5894dc8d35ed592a439ccabcdebbd5\",\"rate\":1,\"limits\":{\"maximal\":25000000,\"minimal\":50000,\"maximalZeroConf\":0},\"fees\":{\"percentage\":0.1,\"minerFees\":4379}}},\"L-BTC\":{\"BTC\":{\"hash\":\"b53c0ac3da051a78f67f6dd25f2ab0858492dc6881015b236d554227c85fda7d\",\"rate\":1,\"limits\":{\"maximal\":25000000,\"minimal\":1000,\"maximalZeroConf\":100000},\"fees\":{\"percentage\":0.1,\"minerFees\":148}}}}"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "description": "Create a new Submarine Swap from onchain to lightning",
        "tags": [
          "Submarine"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubmarineRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The created Submarine Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubmarineResponse"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the Submarine Swap creation to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine/{id}/invoice": {
      "post": {
        "tags": [
          "Submarine"
        ],
        "description": "Set the invoice for a Submarine Swap",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Submarine Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "invoice"
                ],
                "properties": {
                  "invoice": {
                    "type": "string",
                    "description": "BOLT11 invoice that should be paid. The preimage hash has to match the one specified when creating the swap"
                  },
                  "pairHash": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Information about the onchain part of the Submarine Swap",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "bip21",
                    "expectedAmount",
                    "acceptZeroConf"
                  ],
                  "properties": {
                    "bip21": {
                      "type": "string",
                      "description": "BIP21 for the onchain payment request"
                    },
                    "expectedAmount": {
                      "type": "number",
                      "description": "Amount that is expected to be sent to the onchain HTLC address in satoshis"
                    },
                    "acceptZeroConf": {
                      "type": "boolean",
                      "description": "Whether 0-conf will be accepted assuming the transaction does not signal RBF and has a reasonably high fee"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine/{id}/invoice/amount": {
      "get": {
        "tags": [
          "Submarine"
        ],
        "description": "Get the expected amount of the invoice that should be set after the Swap was created with a preimage hash and an onchain transaction was sent",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Submarine Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "Expected amount of the invoice",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "invoiceAmount"
                  ],
                  "properties": {
                    "invoiceAmount": {
                      "type": "number",
                      "description": "Expected amount of the invoice"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine/{id}/transaction": {
      "get": {
        "tags": [
          "Submarine"
        ],
        "description": "Get the lockup transaction of a Submarine Swap",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Submarine Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "The lockup transaction of the Submarine Swap and accompanying information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubmarineTransaction"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine/{id}/preimage": {
      "get": {
        "tags": [
          "Submarine"
        ],
        "description": "Get the preimage of a successful Submarine Swap",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Submarine Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "The preimage of a Submarine Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubmarinePreimage"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine/{id}/refund": {
      "get": {
        "tags": [
          "Submarine"
        ],
        "description": "Get an EIP-712 signature for a cooperative EVM refund",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID or preimage hash of the Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "EIP-712 signature",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "signature"
                  ],
                  "properties": {
                    "signature": {
                      "type": "string",
                      "description": "EIP-712 signature with which a cooperative refund can be executed onchain"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "description": "Requests a partial signature for a cooperative Submarine Swap refund transaction",
        "tags": [
          "Submarine"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefundRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "A partial signature",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PartialSignature"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/submarine/{id}/claim": {
      "get": {
        "tags": [
          "Submarine"
        ],
        "description": "Get the needed information to post a partial signature for a cooperative Submarine Swap claim transaction",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "The latest status of the Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubmarineClaimDetails"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When no Swap with the ID could be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Submarine"
        ],
        "description": "Send Boltz the clients partial signature for a cooperative Submarine Swap claim transaction",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PartialSignature"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The latest status of the Swap",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When no Swap with the ID could be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/reverse": {
      "get": {
        "description": "Possible pairs for Reverse Swaps",
        "tags": [
          "Reverse"
        ],
        "responses": {
          "200": {
            "description": "Dictionary of the from -> to currencies that can be used in a Reverse Swap",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "additionalProperties": {
                      "$ref": "#/components/schemas/ReversePair"
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"BTC\":{\"BTC\":{\"hash\":\"784db95522d197f4e90d661e8451d0d78f63906f74cc566cd395d32f359fdc90\",\"rate\":1,\"limits\":{\"maximal\":25000000,\"minimal\":50000},\"fees\":{\"percentage\":0.5,\"minerFees\":{\"claim\":1998,\"lockup\":2772}}},\"L-BTC\":{\"hash\":\"976e6dad9097f657213244b046e5f29524b743568a2c3d569b421df1e07e1b44\",\"rate\":1,\"limits\":{\"maximal\":25000000,\"minimal\":1000},\"fees\":{\"percentage\":0.25,\"minerFees\":{\"claim\":143,\"lockup\":276}}}}}"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "description": "Create a new Reverse Swap from lightning to onchain",
        "tags": [
          "Reverse"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReverseRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The created Reverse Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReverseResponse"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the Reverse Swap creation to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/reverse/{id}/transaction": {
      "get": {
        "tags": [
          "Reverse"
        ],
        "description": "Get the lockup transaction of a Reverse Swap",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Reverse Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "The lockup transaction of the Reverse Swap and accompanying information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReverseTransaction"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/reverse/{id}/claim": {
      "post": {
        "description": "Requests a partial signature for a cooperative Reverse Swap claim transaction. To settle the invoice, but not claim the onchain HTLC (eg to create a batched claim in the future), only the preimage is required. If no transaction is provided, an empty object is returned as response.",
        "tags": [
          "Reverse"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReverseClaimRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "A partial signature",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PartialSignature"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/reverse/{invoice}/bip21": {
      "get": {
        "tags": [
          "Reverse"
        ],
        "description": "Get the BIP-21 of a Reverse Swap for a direct payment",
        "parameters": [
          {
            "in": "path",
            "name": "invoice",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Invoice of the Reverse Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "BIP-21 and signature to prove the authenticity of the BIP-21",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReverseBip21"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When no BIP-21 was set for the Reverse Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/chain": {
      "get": {
        "description": "Possible pairs for Chain Swaps",
        "tags": [
          "Chain Swap"
        ],
        "responses": {
          "200": {
            "description": "Dictionary of the from -> to currencies that can be used in a Chain Swap",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "additionalProperties": {
                      "$ref": "#/components/schemas/ChainPair"
                    }
                  }
                },
                "examples": {
                  "json": {
                    "value": "{\"BTC\":{\"RBTC\":{\"hash\":\"819c288da87e4212ed9420b60e2699d49ff3f989215f1beb3dc986a3dfbe8160\",\"rate\":1,\"limits\":{\"maximal\":4294967,\"minimal\":50000,\"maximalZeroConf\":0},\"fees\":{\"percentage\":0.5,\"minerFees\":{\"server\":7035,\"user\":{\"claim\":3108,\"lockup\":5077}}}},\"L-BTC\":{\"hash\":\"43087e267db95668b9b7c48efcf44d922484870f1bdb8b926e5d6b76bf4d0709\",\"rate\":1,\"limits\":{\"maximal\":4294967,\"minimal\":10000,\"maximalZeroConf\":0},\"fees\":{\"percentage\":0.25,\"minerFees\":{\"server\":4455,\"user\":{\"claim\":3108,\"lockup\":276}}}}},\"RBTC\":{\"BTC\":{\"hash\":\"a5de5e1fb35ea29d67131283bf5c682e5b16a19ecaadc0e80345d95f4831e201\",\"rate\":1,\"limits\":{\"maximal\":4294967,\"minimal\":50000,\"maximalZeroConf\":0},\"fees\":{\"percentage\":0.5,\"minerFees\":{\"server\":8185,\"user\":{\"claim\":2723,\"lockup\":4312}}}}},\"L-BTC\":{\"BTC\":{\"hash\":\"3ec520412cee74863f2c75a9cd7b8d2077f68267632344ec3c4646e100883091\",\"rate\":1,\"limits\":{\"maximal\":4294967,\"minimal\":10000,\"maximalZeroConf\":0},\"fees\":{\"percentage\":0.25,\"minerFees\":{\"server\":3384,\"user\":{\"claim\":143,\"lockup\":4312}}}}}}"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "description": "Create a new Chain Swap from chain to chain. Omit \"userLockAmount\" and \"serverLockAmount\" to create a Chain Swap with an arbitrary amount",
        "tags": [
          "Chain Swap"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChainRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The created Chain Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChainResponse"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the Chain Swap creation to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/chain/{id}/transactions": {
      "get": {
        "description": "Gets the transactions of a Chain Swap",
        "tags": [
          "Chain Swap"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "Transactions of the Chain Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChainSwapTransactions"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When no Chain Swap with the ID could be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/chain/{id}/claim": {
      "get": {
        "description": "Gets the server claim transaction signing details",
        "tags": [
          "Chain Swap"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "Server claim signing details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChainSwapSigningDetails"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When no Chain Swap with the ID could be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "description": "Send Boltz a partial signature for its claim transaction and get a partial signature for the clients claim in return",
        "tags": [
          "Chain Swap"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChainSwapSigningRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Partial signature for the claim transaction of the user",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PartialSignature"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused the request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "When no Chain Swap with the ID could be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/chain/{id}/refund": {
      "get": {
        "tags": [
          "Chain Swap"
        ],
        "description": "Get an EIP-712 signature for a cooperative EVM refund",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "EIP-712 signature",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "signature"
                  ],
                  "properties": {
                    "signature": {
                      "type": "string",
                      "description": "EIP-712 signature with which a cooperative refund can be executed onchain"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "description": "Requests a partial signature for a cooperative Chain Swap refund transaction",
        "tags": [
          "Chain Swap"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefundRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "A partial signature",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PartialSignature"
                }
              }
            }
          },
          "400": {
            "description": "Error that caused signature request to fail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/chain/{id}/quote": {
      "get": {
        "tags": [
          "Chain Swap"
        ],
        "description": "Gets a new quote for an overpaid or underpaid Chain Swap",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "The new quote",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Quote"
                }
              }
            }
          },
          "400": {
            "description": "When the Chain Swap is not eligible for a new quote",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Chain Swap"
        ],
        "description": "Accepts a new quote for a Chain Swap",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Quote"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "The new quote was accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuoteResponse"
                }
              }
            }
          },
          "400": {
            "description": "When the Chain Swap is not eligible for a new quote",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/{id}": {
      "get": {
        "tags": [
          "Swap"
        ],
        "description": "Get the status of a Swap",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the Swap"
          }
        ],
        "responses": {
          "200": {
            "description": "The latest status of the Swap",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SwapStatus"
                }
              }
            }
          },
          "404": {
            "description": "When no Swap with the ID could be found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swap/rescue": {
      "post": {
        "tags": [
          "Swap"
        ],
        "description": "Rescue swaps that were created with an XPUB",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RescueRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "List of swaps that can be rescued",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RescuableSwap"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Contracts": {
        "type": "object",
        "required": [
          "network",
          "swapContracts",
          "tokens"
        ],
        "properties": {
          "network": {
            "type": "object",
            "description": "Information about the network",
            "required": [
              "chainId",
              "name"
            ],
            "properties": {
              "chainId": {
                "type": "number",
                "description": "ID of the chain"
              },
              "name": {
                "type": "string",
                "description": "Name of the chain if applicable"
              }
            }
          },
          "swapContracts": {
            "type": "object",
            "description": "Mapping of the names of swap contracts to their address",
            "properties": {
              "EtherSwap": {
                "type": "string",
                "description": "Address of the EtherSwap contract"
              },
              "ERC20Swap": {
                "type": "string",
                "description": "Address of the ERC20 contract"
              }
            }
          },
          "tokens": {
            "type": "object",
            "description": "Mapping of the symbol of tokens to their address",
            "additionalProperties": {
              "type": "string",
              "description": "Address of the token"
            }
          }
        }
      },
      "LightningNode": {
        "type": "object",
        "required": [
          "id"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "Public key of the node"
          },
          "alias": {
            "type": "string",
            "description": "Alias of the node"
          },
          "color": {
            "type": "string",
            "description": "Color code the node"
          }
        }
      },
      "LightningChannelPolicy": {
        "type": "object",
        "required": [
          "active",
          "baseFeeMillisatoshi",
          "feePpm",
          "delay"
        ],
        "properties": {
          "active": {
            "type": "boolean",
            "description": "Whether the channel is active"
          },
          "baseFeeMillisatoshi": {
            "type": "number",
            "description": "Base fee of the channel in millisatoshi"
          },
          "feePpm": {
            "type": "number",
            "description": "Parts per million fee of the channel"
          },
          "delay": {
            "type": "number",
            "description": "CLTV delay of the channel in blocks"
          },
          "htlcMinimumMillisatoshi": {
            "type": "number",
            "description": "Minimum allowed HTLC value in millisatoshi"
          },
          "htlcMaximumMillisatoshi": {
            "type": "number",
            "description": "Maximum allowed HTLC value in millisatoshi"
          }
        }
      },
      "LightningChannel": {
        "type": "object",
        "required": [
          "source",
          "shortChannelId"
        ],
        "properties": {
          "source": {
            "$ref": "#/components/schemas/LightningNode"
          },
          "shortChannelId": {
            "type": "string",
            "description": "ID of the channel"
          },
          "capacity": {
            "type": "number",
            "description": "Capacity of the channel in satoshi"
          },
          "active": {
            "type": "boolean",
            "description": "Whether the channel can be used"
          },
          "info": {
            "$ref": "#/components/schemas/LightningChannelPolicy"
          }
        }
      },
      "LightningChannelInfo": {
        "type": "object",
        "required": [
          "shortChannelId",
          "capacity",
          "policies"
        ],
        "properties": {
          "shortChannelId": {
            "type": "string",
            "description": "ID of the channel"
          },
          "capacity": {
            "type": "number",
            "description": "Capacity of the channel in satoshi"
          },
          "policies": {
            "type": "array",
            "description": "Policies of the channel partners",
            "items": {
              "$ref": "#/components/schemas/LightningChannelPolicy"
            }
          }
        }
      },
      "NodeInfo": {
        "type": "object",
        "required": [
          "publicKey",
          "uris"
        ],
        "properties": {
          "publicKey": {
            "type": "string"
          },
          "uris": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "NodeStats": {
        "type": "object",
        "required": [
          "capacity",
          "channels",
          "peers",
          "oldestChannel"
        ],
        "properties": {
          "capacity": {
            "type": "integer"
          },
          "channels": {
            "type": "integer"
          },
          "peers": {
            "type": "integer"
          },
          "oldestChannel": {
            "type": "integer",
            "description": "UNIX timestamp of the block in which the funding transaction of the oldest channel was included"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "required": [
          "error"
        ],
        "properties": {
          "error": {
            "type": "string",
            "description": "Description of the error that caused the request to fail"
          }
        }
      },
      "SwapTreeLeaf": {
        "type": "object",
        "required": [
          "version",
          "output"
        ],
        "properties": {
          "version": {
            "type": "number",
            "description": "Tapscript version"
          },
          "output": {
            "type": "string",
            "description": "Script encoded as HEX"
          }
        }
      },
      "SwapTree": {
        "type": "object",
        "required": [
          "claimLeaf",
          "refundLeaf"
        ],
        "properties": {
          "claimLeaf": {
            "$ref": "#/components/schemas/SwapTreeLeaf"
          },
          "refundLeaf": {
            "$ref": "#/components/schemas/SwapTreeLeaf"
          }
        }
      },
      "SubmarinePair": {
        "type": "object",
        "required": [
          "hash",
          "rate",
          "limits",
          "fees"
        ],
        "properties": {
          "hash": {
            "type": "string",
            "description": "Hash of the pair that can be used when creating the Submarine Swap to ensure the information of the client is up-to-date"
          },
          "rate": {
            "type": "number",
            "description": "Exchange rate of the pair"
          },
          "limits": {
            "type": "object",
            "required": [
              "minimal",
              "maximal",
              "maximalZeroConf"
            ],
            "properties": {
              "minimal": {
                "type": "number",
                "description": "Minimal amount that can be swapped in satoshis for cooperative claims"
              },
              "minimalBatched": {
                "type": "number",
                "description": "Minimal amount that can be swapped in satoshis for batched claims"
              },
              "maximal": {
                "type": "number",
                "description": "Maximal amount that can be swapped in satoshis"
              },
              "maximalZeroConf": {
                "type": "number",
                "description": "Maximal amount that will be accepted 0-conf in satoshis"
              }
            }
          },
          "fees": {
            "type": "object",
            "required": [
              "percentage",
              "minerFees"
            ],
            "properties": {
              "percentage": {
                "type": "number",
                "description": "Relative fee that will be charged in percent"
              },
              "minerFees": {
                "type": "number",
                "description": "Absolute miner fee that will be charged in satoshis"
              }
            }
          }
        }
      },
      "WebhookData": {
        "type": "object",
        "required": [
          "url"
        ],
        "properties": {
          "url": {
            "type": "string",
            "description": "URL that should be called. Only HTTPS is allowed"
          },
          "hashSwapId": {
            "type": "boolean",
            "default": false,
            "description": "If the swap id in the Webhook calls should be hashed with SHA256; useful when Webhooks are processed by a third party"
          },
          "status": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "default": [],
            "description": "Swap status events for which the Webhook should be called. If undefined or empty, the Webhook will be called for all status events"
          }
        }
      },
      "SubmarineRequest": {
        "type": "object",
        "required": [
          "from",
          "to"
        ],
        "properties": {
          "from": {
            "type": "string",
            "description": "The asset that is sent onchain"
          },
          "to": {
            "type": "string",
            "description": "The asset that is received on lightning"
          },
          "invoice": {
            "type": "string",
            "description": "BOLT11 invoice that should be paid"
          },
          "preimageHash": {
            "type": "string",
            "description": "Preimage hash of an invoice that will be set later"
          },
          "refundPublicKey": {
            "type": "string",
            "description": "Public key with which the Submarine Swap can be refunded encoded as HEX"
          },
          "pairHash": {
            "type": "string",
            "description": "Pair hash from the pair information for the client to check if their fee data is up-to-date"
          },
          "referralId": {
            "type": "string",
            "description": "Referral ID to be used for the Submarine swap"
          },
          "paymentTimeout": {
            "type": "number",
            "description": "Payment timeout in seconds"
          },
          "webhook": {
            "$ref": "#/components/schemas/WebhookData"
          }
        }
      },
      "SubmarineResponse": {
        "type": "object",
        "required": [
          "id",
          "timeoutBlockHeight",
          "expectedAmount"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID of the created Submarine Swap"
          },
          "bip21": {
            "type": "string",
            "description": "BIP21 for the onchain payment request"
          },
          "address": {
            "type": "string",
            "description": "Onchain HTLC address"
          },
          "swapTree": {
            "$ref": "#/components/schemas/SwapTree"
          },
          "claimPublicKey": {
            "type": "string",
            "description": "Public key of Boltz that will be used to sweep the onchain HTLC"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Timeout block height of the onchain HTLC"
          },
          "acceptZeroConf": {
            "type": "boolean",
            "description": "Whether 0-conf will be accepted assuming the transaction does not signal RBF and has a reasonably high fee"
          },
          "expectedAmount": {
            "type": "number",
            "description": "Amount that is expected to be sent to the onchain HTLC address in satoshis"
          },
          "blindingKey": {
            "type": "string",
            "description": "Liquid blinding private key encoded as HEX"
          },
          "referralId": {
            "type": "string",
            "description": "Referral ID used for the swap"
          }
        }
      },
      "SubmarineTransaction": {
        "type": "object",
        "required": [
          "id",
          "timeoutBlockHeight"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID the lockup transaction"
          },
          "hex": {
            "type": "string",
            "description": "Lockup transaction as raw HEX"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Block height at which the time-lock expires"
          },
          "timeoutEta": {
            "type": "number",
            "description": "UNIX timestamp at which the time-lock expires; set if it has not expired already"
          }
        }
      },
      "SubmarinePreimage": {
        "type": "object",
        "required": [
          "preimage"
        ],
        "properties": {
          "preimage": {
            "type": "string",
            "description": "Preimage of the Submarine Swap"
          }
        }
      },
      "RefundRequest": {
        "type": "object",
        "required": [
          "pubNonce",
          "transaction",
          "index"
        ],
        "properties": {
          "pubNonce": {
            "type": "string",
            "description": "Public nonce of the client for the session encoded as HEX"
          },
          "transaction": {
            "type": "string",
            "description": "Transaction which should be signed encoded as HEX"
          },
          "index": {
            "type": "number",
            "description": "Index of the input of the transaction that should be signed"
          }
        }
      },
      "PartialSignature": {
        "type": "object",
        "required": [
          "pubNonce",
          "partialSignature"
        ],
        "properties": {
          "pubNonce": {
            "type": "string",
            "description": "Public nonce encoded as HEX"
          },
          "partialSignature": {
            "type": "string",
            "description": "Partial signature encoded as HEX"
          }
        }
      },
      "SubmarineClaimDetails": {
        "type": "object",
        "required": [
          "preimage",
          "pubNonce",
          "publicKey",
          "transactionHash"
        ],
        "properties": {
          "preimage": {
            "type": "string",
            "description": "Preimage of the invoice for the Submarine Swap encoded as HEX"
          },
          "pubNonce": {
            "type": "string",
            "description": "Public nonce of Boltz encoded as HEX"
          },
          "publicKey": {
            "type": "string",
            "description": "Public key of Boltz encoded as HEX"
          },
          "transactionHash": {
            "type": "string",
            "description": "Hash of the transaction that should be signed"
          }
        }
      },
      "ReversePair": {
        "type": "object",
        "required": [
          "hash",
          "rate",
          "limits",
          "fees"
        ],
        "properties": {
          "hash": {
            "type": "string",
            "description": "Hash of the pair that can be used when creating the Reverse Swap to ensure the information of the client is up-to-date"
          },
          "rate": {
            "type": "number",
            "description": "Exchange rate of the pair"
          },
          "limits": {
            "type": "object",
            "required": [
              "minimal",
              "maximal"
            ],
            "properties": {
              "minimal": {
                "type": "number",
                "description": "Minimal amount that can be swapped in satoshis"
              },
              "maximal": {
                "type": "number",
                "description": "Maximal amount that can be swapped in satoshis"
              }
            }
          },
          "fees": {
            "type": "object",
            "required": [
              "percentage",
              "minerFees"
            ],
            "properties": {
              "percentage": {
                "type": "number",
                "description": "Relative fee that will be charged in percent"
              },
              "minerFees": {
                "type": "object",
                "required": [
                  "lockup",
                  "claim"
                ],
                "properties": {
                  "lockup": {
                    "type": "number",
                    "description": "Absolute miner fee that will be charged in satoshis"
                  },
                  "claim": {
                    "type": "number",
                    "description": "Absolute miner fee that we estimate for the claim transaction in satoshis"
                  }
                }
              }
            }
          }
        }
      },
      "ReverseRequest": {
        "type": "object",
        "required": [
          "from",
          "to",
          "preimageHash"
        ],
        "properties": {
          "from": {
            "type": "string",
            "description": "The asset that is sent on lightning"
          },
          "to": {
            "type": "string",
            "description": "The asset that is received onchain"
          },
          "preimageHash": {
            "type": "string",
            "description": "SHA-256 hash of the preimage of the Reverse Swap encoded as HEX"
          },
          "claimPublicKey": {
            "type": "string",
            "description": "Public key with which the Reverse Swap can be claimed encoded as HEX"
          },
          "claimAddress": {
            "type": "string",
            "description": "EVM address with which the Reverse Swap can be claimed"
          },
          "invoiceAmount": {
            "type": "number",
            "description": "Amount for which the invoice should be; conflicts with \"onchainAmount\""
          },
          "onchainAmount": {
            "type": "number",
            "description": "Amount that should be locked in the onchain HTLC; conflicts with \"invoiceAmount\""
          },
          "pairHash": {
            "type": "string",
            "description": "Pair hash from the pair information for the client to check if their fee data is up-to-date"
          },
          "referralId": {
            "type": "string",
            "description": "Referral ID to be used for the Reverse Swap"
          },
          "address": {
            "type": "string",
            "description": "Address to be used for a BIP-21 direct payment"
          },
          "addressSignature": {
            "type": "string",
            "description": "Signature of the claim public key of the SHA256 hash of the address for the direct payment"
          },
          "claimCovenant": {
            "type": "boolean",
            "default": false,
            "description": "If the claim covenant should be added to the Taproot tree. Only possible when \"address\" is set"
          },
          "description": {
            "type": "string",
            "description": "Description of the created invoice and magic routing hint. Only ASCII and a maximum length of 100 characters is allowed"
          },
          "descriptionHash": {
            "type": "string",
            "description": "Description hash for the invoice. Takes precedence over \"description\" if both are specified"
          },
          "invoiceExpiry": {
            "type": "number",
            "description": "Expiry of the invoice in seconds"
          },
          "webhook": {
            "$ref": "#/components/schemas/WebhookData"
          }
        }
      },
      "ReverseResponse": {
        "type": "object",
        "required": [
          "id",
          "invoice",
          "timeoutBlockHeight"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID of the created Reverse Swap"
          },
          "invoice": {
            "type": "string",
            "description": "Hold invoice of the Reverse Swap"
          },
          "swapTree": {
            "$ref": "#/components/schemas/SwapTree"
          },
          "lockupAddress": {
            "type": "string",
            "description": "HTLC address in which coins will be locked"
          },
          "refundPublicKey": {
            "type": "string",
            "description": "Public key of Boltz that will be used to refund UTXO HTLCs"
          },
          "refundAddress": {
            "type": "string",
            "description": "Address that should be specified as refund address for EVM lockup transactions"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Timeout block height of the onchain HTLC"
          },
          "onchainAmount": {
            "type": "number",
            "description": "Amount that will be locked in the onchain HTLC"
          },
          "blindingKey": {
            "type": "string",
            "description": "Liquid blinding private key encoded as HEX"
          },
          "referralId": {
            "type": "string",
            "description": "Referral ID used for the swap"
          }
        }
      },
      "ReverseTransaction": {
        "type": "object",
        "required": [
          "id",
          "timeoutBlockHeight"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID the lockup transaction"
          },
          "hex": {
            "type": "string",
            "description": "Lockup transaction as raw HEX"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Block height at which the time-lock expires"
          }
        }
      },
      "ReverseClaimRequest": {
        "type": "object",
        "required": [
          "preimage"
        ],
        "properties": {
          "preimage": {
            "type": "string",
            "description": "Preimage of the Reverse Swap encoded as HEX"
          },
          "pubNonce": {
            "type": "string",
            "description": "Public nonce of the client for the session encoded as HEX"
          },
          "transaction": {
            "type": "string",
            "description": "Transaction which should be signed encoded as HEX"
          },
          "index": {
            "type": "number",
            "description": "Index of the input of the transaction that should be signed"
          }
        }
      },
      "ReverseBip21": {
        "type": "object",
        "required": [
          "bip12",
          "signature"
        ],
        "properties": {
          "bip21": {
            "type": "string",
            "description": "BIP-21 for the Reverse Swap"
          },
          "signature": {
            "type": "string",
            "description": "Signature of the address in the BIP-21 of the public key in the routing hint"
          }
        }
      },
      "ChainPair": {
        "type": "object",
        "required": [
          "hash",
          "rate",
          "limits",
          "fees"
        ],
        "properties": {
          "hash": {
            "type": "string",
            "description": "Hash of the pair that can be used when creating the Chain Swap to ensure the information of the client is up-to-date"
          },
          "rate": {
            "type": "number",
            "description": "Exchange rate of the pair"
          },
          "limits": {
            "type": "object",
            "required": [
              "minimal",
              "maximal"
            ],
            "properties": {
              "minimal": {
                "type": "number",
                "description": "Minimal amount that can be swapped in satoshis"
              },
              "maximal": {
                "type": "number",
                "description": "Maximal amount that can be swapped in satoshis"
              }
            }
          },
          "fees": {
            "type": "object",
            "required": [
              "percentage",
              "minerFees"
            ],
            "properties": {
              "percentage": {
                "type": "number",
                "description": "Relative fee that will be charged in percent"
              },
              "minerFees": {
                "type": "object",
                "required": [
                  "lockup",
                  "claim"
                ],
                "properties": {
                  "lockup": {
                    "type": "number",
                    "description": "Absolute miner fee that will be charged in satoshis"
                  },
                  "claim": {
                    "type": "number",
                    "description": "Absolute miner fee that we estimate for the claim transaction in satoshis"
                  }
                }
              }
            }
          }
        }
      },
      "ChainRequest": {
        "type": "object",
        "required": [
          "from",
          "to",
          "preimageHash"
        ],
        "properties": {
          "from": {
            "type": "string",
            "description": "The asset that is sent on lightning"
          },
          "to": {
            "type": "string",
            "description": "The asset that is received onchain"
          },
          "preimageHash": {
            "type": "string",
            "description": "SHA-256 hash of the preimage of the Chain Swap encoded as HEX"
          },
          "claimPublicKey": {
            "type": "string",
            "description": "Public key with which the Chain Swap can be claimed encoded as HEX"
          },
          "refundPublicKey": {
            "type": "string",
            "description": "Public key with which the Chain Swap can be refunded encdoed as HEX"
          },
          "claimAddress": {
            "type": "string",
            "description": "EVM address with which the Chain Swap can be claimed"
          },
          "userLockAmount": {
            "type": "number",
            "description": "Amount the client is expected to lock; conflicts with \"serverLockAmount\""
          },
          "serverLockAmount": {
            "type": "number",
            "description": "Amount the server should lock; conflicts with \"userLockAmount\""
          },
          "pairHash": {
            "type": "string",
            "description": "Pair hash from the pair information for the client to check if their fee data is up-to-date"
          },
          "referralId": {
            "type": "string",
            "description": "Referral ID to be used for the Chain Swap"
          },
          "webhook": {
            "$ref": "#/components/schemas/WebhookData"
          }
        }
      },
      "ChainSwapData": {
        "type": "object",
        "required": [
          "swapTree",
          "timeoutBlockHeight",
          "amount"
        ],
        "properties": {
          "swapTree": {
            "$ref": "#/components/schemas/SwapTree"
          },
          "lockupAddress": {
            "type": "string",
            "description": "HTLC address in which coins will be locked"
          },
          "serverPublicKey": {
            "type": "string",
            "description": "Public key of Boltz that is used in the aggregated public key"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Timeout block height of the onchain HTLC"
          },
          "amount": {
            "type": "number",
            "description": "Amount that is supposed to be locked in the onchain HTLC"
          },
          "blindingKey": {
            "type": "string",
            "description": "Liquid blinding private key encoded as HEX"
          },
          "refundAddress": {
            "type": "string",
            "description": "Address that should be specified as refund address for EVM lockup transactions"
          },
          "bip21": {
            "type": "string",
            "description": "BIP-21 for the UTXO onchain lockup of the user"
          }
        }
      },
      "ChainResponse": {
        "type": "object",
        "required": [
          "id",
          "claimDetails",
          "lockupDetails"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID of the created Reverse Swap"
          },
          "referralId": {
            "type": "string",
            "description": "Referral ID used for the swap"
          },
          "claimDetails": {
            "$ref": "#/components/schemas/ChainSwapData"
          },
          "lockupDetails": {
            "$ref": "#/components/schemas/ChainSwapData"
          }
        }
      },
      "ChainSwapTransaction": {
        "type": "object",
        "required": [
          "transaction"
        ],
        "properties": {
          "transaction": {
            "type": "object",
            "required": [
              "id"
            ],
            "properties": {
              "id": {
                "type": "string",
                "description": "ID of the transaction"
              },
              "hex": {
                "type": "string",
                "description": "The transaction encoded as HEX; set for UTXO based chains"
              }
            }
          },
          "timeout": {
            "type": "object",
            "required": [
              "blockHeight"
            ],
            "properties": {
              "blockHeight": {
                "type": "number",
                "description": "Timeout block height of the onchain HTLC"
              },
              "eta": {
                "type": "number",
                "description": "Expected UNIX timestamp of the expiry of the onchain HTLC if not expired already"
              }
            }
          }
        }
      },
      "ChainSwapTransactions": {
        "type": "object",
        "properties": {
          "userLock": {
            "$ref": "#/components/schemas/ChainSwapTransaction"
          },
          "serverLock": {
            "$ref": "#/components/schemas/ChainSwapTransaction"
          }
        }
      },
      "ChainSwapSigningDetails": {
        "type": "object",
        "required": [
          "pubNonce",
          "publicKey",
          "transactionHash"
        ],
        "properties": {
          "pubNonce": {
            "type": "string",
            "description": "Public nonce of the client for the session, encoded as HEX"
          },
          "publicKey": {
            "type": "string",
            "description": "Public key of the server that was used in the aggregated public key"
          },
          "transactionHash": {
            "type": "string",
            "description": "Transaction hash which should be signed, encoded as HEX"
          }
        }
      },
      "ChainSwapSigningRequest": {
        "type": "object",
        "properties": {
          "preimage": {
            "type": "string",
            "description": "Preimage of the Chain Swap, encoded as HEX"
          },
          "signature": {
            "$ref": "#/components/schemas/PartialSignature"
          },
          "toSign": {
            "type": "object",
            "required": [
              "pubNonce",
              "transaction",
              "index"
            ],
            "properties": {
              "pubNonce": {
                "type": "string",
                "description": "Public nonce of the client for the session encoded as HEX"
              },
              "transaction": {
                "type": "string",
                "description": "Transaction which should be signed encoded as HEX"
              },
              "index": {
                "type": "number",
                "description": "Index of the input of the transaction that should be signed"
              }
            }
          }
        }
      },
      "Quote": {
        "type": "object",
        "required": [
          "amount"
        ],
        "properties": {
          "amount": {
            "type": "number",
            "description": "New quote for a Swap. Amount that the server will lock for Chain Swaps"
          }
        }
      },
      "QuoteResponse": {
        "type": "object"
      },
      "SwapStatus": {
        "type": "object",
        "required": [
          "status"
        ],
        "properties": {
          "status": {
            "type": "string",
            "description": "Status of the Swap"
          },
          "zeroConfRejected": {
            "type": "boolean",
            "description": "Whether 0-conf was accepted for the lockup transaction of the user"
          },
          "transaction": {
            "type": "object",
            "description": "Details of the transaction relevant to the status update",
            "properties": {
              "id": {
                "type": "string",
                "description": "ID of the transaction"
              },
              "hex": {
                "type": "string",
                "description": "Raw hex of the transaction"
              }
            }
          }
        }
      },
      "RescueRequest": {
        "type": "object",
        "required": [
          "xpub"
        ],
        "properties": {
          "xpub": {
            "type": "string",
            "description": "XPUB from which the refund keys were derived"
          },
          "derivationPath": {
            "type": "string",
            "description": "Derivation path to use for the rescue. Defaults to m/44/0/0/0"
          }
        }
      },
      "RescuableSwap": {
        "type": "object",
        "required": [
          "id",
          "type",
          "status",
          "symbol",
          "keyIndex",
          "preimageHash",
          "timeoutBlockHeight",
          "serverPublicKey",
          "tree",
          "lockupAddress",
          "createdAt"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID of the Swap"
          },
          "type": {
            "type": "string",
            "enum": [
              "submarine",
              "chain"
            ],
            "description": "Type of the Swap"
          },
          "status": {
            "type": "string",
            "description": "Status of the Swap"
          },
          "symbol": {
            "type": "string",
            "description": "Symbol of the chain on which the funds locked for the swap can be rescued"
          },
          "keyIndex": {
            "type": "number",
            "description": "Derivation index for the refund key used in the swap"
          },
          "preimageHash": {
            "type": "string",
            "description": "Preimage hash of the swap"
          },
          "timeoutBlockHeight": {
            "type": "number",
            "description": "Block height at which the rescuable onchain HTLCs will time out"
          },
          "serverPublicKey": {
            "type": "string",
            "description": "Public key of the server"
          },
          "blindingKey": {
            "type": "string",
            "description": "Blinding key of the lockup address. Only set when the chain is Liquid"
          },
          "tree": {
            "$ref": "#/components/schemas/SwapTree"
          },
          "lockupAddress": {
            "type": "string",
            "description": "Lockup address of the Swap"
          },
          "transaction": {
            "type": "object",
            "description": "Lockup transaction of the Swap",
            "required": [
              "id",
              "hex"
            ],
            "properties": {
              "id": {
                "type": "string",
                "description": "ID of the transaction"
              },
              "hex": {
                "type": "string",
                "description": "The transaction encoded as HEX"
              }
            }
          },
          "createdAt": {
            "type": "number",
            "description": "UNIX timestamp of the creation of the Swap"
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Chain",
      "description": "Onchain data related endpoints"
    },
    {
      "name": "Info",
      "description": "General information"
    },
    {
      "name": "Lightning",
      "description": "Lightning related endpoints"
    },
    {
      "name": "Nodes",
      "description": "Lightning nodes"
    },
    {
      "name": "Referral",
      "description": "Referral related endpoints"
    },
    {
      "name": "Submarine",
      "description": "Submarine Swap related endpoints"
    },
    {
      "name": "Reverse",
      "description": "Reverse Swap related endpoints"
    },
    {
      "name": "Chain Swap",
      "description": "Chain Swap related endpoints"
    },
    {
      "name": "Swap",
      "description": "Generic Swap related endpoints"
    }
  ],
  "servers": [
    {
      "url": "https://api.boltz.exchange/v2",
      "description": "Mainnet"
    },
    {
      "url": "https://api.testnet.boltz.exchange/v2",
      "description": "Testnet"
    },
    {
      "url": "http://localhost:9006/v2",
      "description": "Regtest"
    }
  ]
}